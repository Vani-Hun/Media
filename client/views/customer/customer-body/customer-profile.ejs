<svg style="position:absolute;width:0;height:0" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink" ariahidden="true" id="svg-sprite-container">
    <symbol data-count="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 118 42" id="logo-dark-1ef9a37a">
        <path fill="#25F4EE"
            d="M9.875 16.842v-1.119A8.836 8.836 0 0 0 8.7 15.64c-4.797-.006-8.7 3.9-8.7 8.707a8.706 8.706 0 0 0 3.718 7.135A8.675 8.675 0 0 1 1.38 25.55c0-4.737 3.794-8.598 8.495-8.707Z">
        </path>
        <path fill="#25F4EE"
            d="M10.086 29.526c2.14 0 3.89-1.707 3.967-3.83l.006-18.968h3.463a6.78 6.78 0 0 1-.11-1.202h-4.726l-.006 18.969a3.978 3.978 0 0 1-3.967 3.829 3.93 3.93 0 0 1-1.846-.46 3.949 3.949 0 0 0 3.22 1.662Zm13.906-16.36v-1.055a6.506 6.506 0 0 1-3.583-1.068 6.571 6.571 0 0 0 3.583 2.123Z">
        </path>
        <path fill="#FE2C55"
            d="M20.409 11.043a6.54 6.54 0 0 1-1.616-4.315h-1.265a6.557 6.557 0 0 0 2.88 4.316ZM8.706 20.365a3.98 3.98 0 0 0-3.973 3.976c0 1.528.869 2.858 2.134 3.523a3.936 3.936 0 0 1-.754-2.321 3.98 3.98 0 0 1 3.973-3.976c.409 0 .805.07 1.175.185v-4.833a8.837 8.837 0 0 0-1.175-.083c-.07 0-.134.006-.204.006v3.708a3.999 3.999 0 0 0-1.176-.185Z">
        </path>
        <path fill="#FE2C55"
            d="M23.992 13.166v3.676c-2.453 0-4.727-.786-6.58-2.116v9.621c0 4.802-3.902 8.714-8.706 8.714a8.669 8.669 0 0 1-4.988-1.579 8.69 8.69 0 0 0 6.368 2.781c4.797 0 8.707-3.906 8.707-8.714v-9.621a11.25 11.25 0 0 0 6.579 2.116v-4.73c-.48 0-.94-.052-1.38-.148Z">
        </path>
        <path fill="black"
            d="M17.413 24.348v-9.622a11.251 11.251 0 0 0 6.58 2.116v-3.676a6.571 6.571 0 0 1-3.584-2.123 6.61 6.61 0 0 1-2.888-4.315H14.06l-.006 18.968a3.978 3.978 0 0 1-3.967 3.83A3.99 3.99 0 0 1 6.86 27.87a3.991 3.991 0 0 1-2.133-3.523A3.98 3.98 0 0 1 8.7 20.372c.409 0 .805.07 1.175.185v-3.708c-4.701.103-8.495 3.964-8.495 8.701 0 2.29.888 4.373 2.338 5.933a8.669 8.669 0 0 0 4.988 1.58c4.798 0 8.707-3.913 8.707-8.714Zm12.635-11.169h14.774l-1.354 4.232h-3.832v15.644h-4.778V17.41l-4.804.006-.006-4.238Zm38.984 0h15.12l-1.355 4.232h-4.17v15.644h-4.785V17.41l-4.804.006-.006-4.238ZM45.73 19.502h4.733v13.553h-4.708l-.026-13.553Zm6.617-6.374h4.733v9.257l4.689-4.61h5.646l-5.934 5.76 6.644 9.52h-5.213l-4.433-6.598-1.405 1.362v5.236H52.34V13.128h.006Zm50.143 0h4.734v9.257l4.688-4.61h5.647l-5.934 5.76 6.643 9.52h-5.206l-4.433-6.598-1.405 1.362v5.236h-4.734V13.128Zm-54.397 4.826a2.384 2.384 0 0 0 2.382-2.384 2.384 2.384 0 1 0-2.382 2.384Z">
        </path>
        <path fill="#25F4EE"
            d="M83.544 24.942a8.112 8.112 0 0 1 7.474-8.087 8.748 8.748 0 0 0-.709-.026c-4.478 0-8.106 3.631-8.106 8.113 0 4.482 3.628 8.113 8.106 8.113.21 0 .498-.013.71-.026-4.178-.326-7.475-3.823-7.475-8.087Z">
        </path>
        <path fill="#FE2C55"
            d="M92.858 16.83c-.217 0-.505.012-.716.025a8.111 8.111 0 0 1 7.468 8.087 8.112 8.112 0 0 1-7.468 8.087c.211.02.499.026.716.026 4.478 0 8.106-3.631 8.106-8.113 0-4.482-3.628-8.113-8.106-8.113Z">
        </path>
        <path fill="black"
            d="M91.58 28.887a3.94 3.94 0 0 1-3.94-3.945 3.94 3.94 0 1 1 7.882 0c0 2.18-1.77 3.945-3.942 3.945Zm0-12.058c-4.477 0-8.106 3.631-8.106 8.113 0 4.482 3.629 8.113 8.106 8.113 4.478 0 8.106-3.631 8.106-8.113 0-4.482-3.628-8.113-8.106-8.113Z">
        </path>
    </symbol>
    <symbol data-count="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" id="eh-logo-a5ac4daf">
        <path fill="black"
            d="M0 18V9a9 9 0 0 1 18 0v9H0Zm15.75-2.25V9a6.75 6.75 0 0 0-9.978-5.93 6.744 6.744 0 0 1 6.619 2.971A4.483 4.483 0 0 1 13.5 9v6.75h2.25ZM6.502 5.257A4.5 4.5 0 0 0 2.25 9.75v6H4.5V9c0-1.56.795-2.936 2.002-3.743Zm4.096 2.16A2.25 2.25 0 0 0 6.75 9v6.75h4.5v-6a4.48 4.48 0 0 0-.652-2.333Z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 8" id="tip_arrow_white-99f4b53c">
        <path d="M0 8c7 0 10-8 12-8s5 8 12 8z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 16" id="system-notif-inbox-icon-1efa9bd8">
        <path fill="white"
            d="M14.24 0c.828 0 1.56.454 1.808 1.123l1.78 4.81c.113.307.172.63.172.955V14.4c0 .425-.2.832-.555 1.131-.355.3-.837.469-1.34.469H1.895a2.08 2.08 0 0 1-1.34-.469C.2 15.232 0 14.824 0 14.4V6.888c0-.325.059-.648.173-.955l1.78-4.81C2.202.455 2.934 0 3.762 0H14.24Zm-.918 2.133H4.678c-.284 0-.54.15-.651.379l-.031.079-.982 3.16a.5.5 0 0 0 .477.649h11.017a.5.5 0 0 0 .478-.648l-.983-3.161c-.083-.27-.363-.457-.681-.458Z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="edit-5f4d9ed9">
        <path fill="currentColor" fill-rule="evenodd"
            d="M15.393 2.226a.842.842 0 0 0-1.17.02L8.142 8.33a.842.842 0 0 0-.247.595v2.34c0 .464.377.841.842.841h2.183a.842.842 0 0 0 .596-.246l6.237-6.238a.843.843 0 0 0-.02-1.211l-2.34-2.184ZM9.58 9.273l5.26-5.26 1.107 1.033-5.374 5.375H9.58V9.273ZM9.58 2a.42.42 0 0 1 .42.421v.842a.421.421 0 0 1-.42.421H4.526a.842.842 0 0 0-.842.842v10.948c0 .465.377.842.842.842h10.947a.842.842 0 0 0 .842-.842V10.42c0-.232.189-.421.421-.421h.842c.233 0 .422.188.422.421v5.053A2.526 2.526 0 0 1 15.473 18H4.526A2.526 2.526 0 0 1 2 15.474V4.526A2.526 2.526 0 0 1 4.526 2H9.58Z"
            clip-rule="evenodd"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="Flag-b92a5adc">
        <path
            d="M9 9.31v17.75c5.27-1.73 11.45-2.05 16.16 1.31 4.03 2.88 9.52 2.01 13.84.32V10.94c-5.27 1.73-11.45 2.05-16.16-1.31-4-2.86-9.53-2.01-13.84-.32ZM43 8v22a2 2 0 0 1-1.1 1.79c-5.83 2.9-13.5 3.82-19.06-.16C18.8 28.75 13.32 29.6 9 31.3V44a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V8c0-.75.44-1.45 1.1-1.79 5.75-2.87 13.62-3.73 19.06.16 4.37 3.13 10.43 2.04 14.95-.16C41.4 5.56 43 6.54 43 8Z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="Music_Note-8c658968">
        <path
            d="M35 10.76a1 1 0 0 0-1.22-.98l-15.99 3.64a1 1 0 0 0-.78.97V38c.03 2.17-2.2 4.43-5.4 5.28-3.56.96-6.96-.2-7.6-2.57-.63-2.37 1.74-5.07 5.3-6.02a9.2 9.2 0 0 1 3.7-.25V14.39a5 5 0 0 1 3.9-4.87l15.98-3.64A5 5 0 0 1 39 10.76v22.36c.08 2.2-2.17 4.5-5.4 5.36-3.56.95-6.96-.2-7.6-2.57-.63-2.38 1.74-5.08 5.3-6.03a9.2 9.2 0 0 1 3.7-.25V10.76Z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="heart-fill-03bd63df">
        <g fill-rule="evenodd" clip-path="url(#heart-fill-03bd63df_a)" clip-rule="evenodd">
            <path
                d="M7.5 2.25c3 0 4.5 2 4.5 2s1.5-2 4.5-2c3.5 0 6 2.75 6 6.25 0 4-3.269 7.566-6.25 10.25C14.41 20.407 13 21.5 12 21.5s-2.45-1.101-4.25-2.75C4.82 16.066 1.5 12.5 1.5 8.5c0-3.5 2.5-6.25 6-6.25Z">
            </path>
            <path fill="black" fill-opacity=".03"
                d="M2.402 12.2c1.187 2.497 3.357 4.727 5.348 6.55C9.55 20.399 11 21.5 12 21.5s2.41-1.093 4.25-2.75c2.98-2.684 6.25-6.25 6.25-10.25 0-.087-.002-.174-.005-.26C20.567 13.661 13.68 18.5 11.75 18.5c-1.437 0-6.14-2.687-9.348-6.3Z">
            </path>
        </g>
        <defs>
            <clipPath id="heart-fill-03bd63df_a">
                <path fill="white" d="M0 0h24v24H0z"></path>
            </clipPath>
        </defs>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="Bubble_Ellipsis_Right_Fill-a497dc09">
        <path
            d="M3.5 21.44C3.5 11.47 13.04 4 24 4s20.5 7.47 20.5 17.44c0 5.85-2.93 10.69-6.47 14.37a41.67 41.67 0 0 1-11.06 7.97A2.05 2.05 0 0 1 24 41.95v-3.08c-10.96 0-20.5-7.47-20.5-17.43Zm11.79 3.07a2.56 2.56 0 1 0 0-5.12 2.56 2.56 0 0 0 0 5.12Zm8.71 0a2.56 2.56 0 1 0 0-5.12 2.56 2.56 0 0 0 0 5.12Zm11.27-2.56a2.56 2.56 0 1 0-5.12 0 2.56 2.56 0 0 0 5.12 0Z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="uncollect-8a52664d">
        <path fill="currentColor"
            d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63V4.5Z">
        </path>
        <path fill="currentColor" fill-opacity=".03"
            d="M4.032 4.144A1.894 1.894 0 0 0 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.489 1.489 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37V4.143Zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117.008 117.008 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133l-3.952-1.833Z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="Play_Fill-6957a00f">
        <path d="M43 26.6a3 3 0 0 0 0-5.2L14.5 4.95a3 3 0 0 0-4.5 2.6v32.9a3 3 0 0 0 4.5 2.6L43 26.6Z"></path>
    </symbol>
</svg>
<div data-e2e="user-page" id="main-content-others_homepage"
    class="tiktok-10qtkim-DivShareLayoutBase-StyledShareLayoutV2">
    <div class="tiktok-1hfe8ic-DivShareLayoutContentV2 enm41491">
        <div class="tiktok-1g04lal-DivShareLayoutHeader-StyledDivShareLayoutHeaderV2 enm41492"
            style="max-width: 624px; padding-right: 92px; padding-left: 0px; min-height: 140px; display: flex; flex-direction: column;">
            <div class="tiktok-1gk89rh-DivShareInfo ekmpd5l2">
                <div class="tiktok-uha12h-DivContainer e1vl87hj1" data-e2e="user-avatar"
                    style="width: 116px; height: 116px;"><span shape="circle" data-e2e=""
                        class="e1vl87hj2 tiktok-gcksof-SpanAvatarContainer-StyledAvatar e1e9er4e0"
                        style="width: 116px; height: 116px;"><img loading="lazy" alt=""
                            class="tiktok-1zpj2q-ImgAvatar e1e9er4e1"></span></div>
                <div class="tiktok-1nbnul7-DivShareTitleContainer ekmpd5l3">
                    <h1 data-e2e="user-title" class="tiktok-1xo9k5n-H1ShareTitle"></h1>
                    <h2 data-e2e="user-subtitle" class="tiktok-10pb43i-H2ShareSubTitle ekmpd5l7"></h2>
                    <div data-e2e="edit-profile-entrance" class="tiktok-g5dwjs-DivEditContainer e33dl3i0"><button
                            type="button" class="e33dl3i1 tiktok-16gecda-Button-StyledEditButton ehk74z00"><svg
                                xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor"
                                class="tiktok-l7zpu2-StyledEditIcon e33dl3i3">
                                <use xlink:href="#edit-5f4d9ed9"></use>
                            </svg><span>Edit profile</span></button></div>
                </div>
            </div>
            <h3 class="tiktok-12ijsdd-H3CountInfos e1457k4r0">
                <div class="tiktok-mgke3u-DivNumber e1457k4r1"><strong title="Following"
                        data-e2e="following-count"></strong><span data-e2e="following"
                        class="tiktok-1ubs7lq-SpanUnit e1457k4r2">Following</span></div>
                <div class="tiktok-mgke3u-DivNumber e1457k4r1"><strong title="Followers"
                        data-e2e="followers-count"></strong><span data-e2e="followers"
                        class="tiktok-1ubs7lq-SpanUnit e1457k4r2">Followers</span></div>
                <div class="tiktok-ntsum2-DivNumber e1457k4r1"><strong title="Likes"
                        data-e2e="likes-count"></strong><span data-e2e="likes"
                        class="tiktok-1pchix1-SpanUnit e1457k4r2">Likes</span></div>
            </h3>
            <h2 data-e2e="user-bio" class="tiktok-4ac4gk-H2ShareDesc e1457k4r3">No bio yet.</h2>
            <div class="tiktok-12jrf1j-DivButtonsContainer">
                <div role="button" aria-label="Share" data-e2e="share-btn" tabindex="0"
                    class="tiktok-adnylo-DivShareActions ee7zj8d9"><svg class="tiktok-3anilq-StyledShareIcon ee7zj8d19"
                        width="24" data-e2e="" height="24" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.5546 8.35111L13.3171 8.16468V7.37972V3.50006L21.4998 12.0001L13.3171 20.5001V16.3738V15.3664L12.3098 15.3738C8.838 15.3994 5.4275 17.0466 2.49983 19.5882C2.54612 19.2536 2.67769 18.641 2.94391 17.8329C3.3786 16.5132 4.01326 15.1988 4.88691 13.971C6.71045 11.4083 9.24414 9.16046 12.5546 8.35111Z"
                            stroke="#161823" stroke-width="2"></path>
                    </svg></div>
                <div role="button" aria-label="Actions" tabindex="0" data-e2e="user-more"
                    class="tiktok-usq6rj-DivMoreActions ee7zj8d10"></div>
            </div>
        </div>
        <div class="tiktok-833rgq-DivShareLayoutMain ee7zj8d4">
            <div class="tiktok-1vwnqbc-DivVideoFeedTab e1jjp0pq0">
                <p aria-selected="true" role="tab" data-e2e="videos-tab" tabindex="0"
                    class="tiktok-8i8qcr-PPost e1jjp0pq1">
                    <span>Videos</span>
                </p>
                <p aria-selected="false" role="tab" tabindex="0" class="tiktok-163yq8j-PFavorite e1jjp0pq2"
                    style="display: none;"><svg width="1em" data-e2e="" height="1em" viewBox="0 0 48 48"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg" style="transform: translateY(2px);">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M24 3C17.9249 3 13 7.92487 13 14V21H8C6.89543 21 6 21.8954 6 23V41C6 42.1046 6.89543 43 8 43H40C41.1046 43 42 42.1046 42 41V23C42 21.8954 41.1046 21 40 21H35V14C35 7.92487 30.0751 3 24 3ZM31 21V14C31 10.134 27.866 7 24 7C20.134 7 17 10.134 17 14V21H31Z">
                        </path>
                    </svg><span class="tiktok-1w1pypo-SpanLiked e1jjp0pq4">Favorites</span></p>
                <p aria-selected="false" role="tab" data-e2e="liked-tab" tabindex="0"
                    class="tiktok-r7ao4-PLike e1jjp0pq3"><svg width="1em" data-e2e="" height="1em" viewBox="0 0 48 48"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg" style="transform: translateY(2px);">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M24 3C17.9249 3 13 7.92487 13 14V21H8C6.89543 21 6 21.8954 6 23V41C6 42.1046 6.89543 43 8 43H40C41.1046 43 42 42.1046 42 41V23C42 21.8954 41.1046 21 40 21H35V14C35 7.92487 30.0751 3 24 3ZM31 21V14C31 10.134 27.866 7 24 7C20.134 7 17 10.134 17 14V21H31Z">
                        </path>
                    </svg><span class="tiktok-1w1pypo-SpanLiked e1jjp0pq4">Liked</span></p>
                <div class="tiktok-1f8gh88-DivBottomLine e1jjp0pq5" style="transform: translateX(0px); width: 122px;">
                </div>
            </div>
            <div class="tiktok-1qb12g8-DivThreeColumnContainer eegew6e2">
                <div data-e2e="user-post-item-list" mode="compact" class="tiktok-yvmafn-DivVideoFeedV2 ecyq5ls0">

                </div>
            </div>
        </div>
    </div>
</div>
<form id="Form">
    <div id="editProfileForm" class="tiktok-d84lpe-ModalContainer e1wuf0b30" style="display: none;">
        <div class="tiktok-ai36k9-ModalBackdrop e1wuf0b35"></div>
        <div tabindex="-1" class="tiktok-17s26nl-ModalContentContainer e1wuf0b31">
            <div class="tiktok-15neh3t-ModalContentVerticalPositionContainer e1wuf0b32">
                <div class="tiktok-ihckm8-ModalContentVerticalPositionPadding e1wuf0b33">
                    <section role="dialog" aria-modal="true" aria-labelledby="tux-1_header"
                        aria-describedby="tux-1_body" class="tiktok-19l8hzs-ModalContentSection e1wuf0b34">
                        <div aria-label="Edit profile" role="dialog" data-e2e="edit-profile-popup"
                            class="tiktok-o2w5fl-DivModalContainer e13yu7jj0">
                            <div data-e2e="edit-profile-header" class="tiktok-6y62q3-DivHeaderContainer e13yu7jj1">
                                <h1 class="tiktok-1twl9p4-H1Header e13yu7jj2">Edit profile</h1>
                                <div aria-label="Close_button" role="button" tabindex="0" data-e2e="edit-profile-close"
                                    class="tiktok-g4salc-DivCloseContainer e13yu7jj3"><svg width="24" data-e2e=""
                                        height="24" viewBox="0 0 48 48" fill="rgba(22, 24, 35, .75)"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M21.1718 23.9999L10.2931 13.1212C9.90261 12.7307 9.90261 12.0975 10.2931 11.707L11.7074 10.2928C12.0979 9.90228 12.731 9.90228 13.1216 10.2928L24.0002 21.1715L34.8789 10.2928C35.2694 9.90228 35.9026 9.90228 36.2931 10.2928L37.7073 11.707C38.0979 12.0975 38.0979 12.7307 37.7073 13.1212L26.8287 23.9999L37.7073 34.8786C38.0979 35.2691 38.0979 35.9023 37.7073 36.2928L36.2931 37.707C35.9026 38.0975 35.2694 38.0975 34.8789 37.707L24.0002 26.8283L13.1216 37.707C12.731 38.0975 12.0979 38.0975 11.7074 37.707L10.2931 36.2928C9.90261 35.9023 9.90261 35.2691 10.2931 34.8786L21.1718 23.9999Z">
                                        </path>
                                    </svg></div>
                            </div>
                            <div class="tiktok-gr0dyb-DivContentContainer">
                                <div class="tiktok-oldb3k-DivItemContainer-StyledItemContainerWithLine e13yu7jj10">
                                    <div data-e2e="edit-profile-photo" class="tiktok-1wo2vh7-DivLabel e13yu7jj11">
                                        Profile
                                        photo</div>
                                    <div data-e2e="edit-profile-avatar"
                                        class="tiktok-1vo5gtq-DivAvatarContent e13yu7jj12">
                                        <div class="e13yu7jj21 tiktok-1t7819m-DivContainer-StyledAvatar e1vl87hj1"
                                            style="width: 96px; height: 96px;">
                                            <span shape="circle" data-e2e=""
                                                class="e1vl87hj2 tiktok-gcksof-SpanAvatarContainer-StyledAvatar e1e9er4e0"
                                                style="width: 96px; height: 96px;"><img loading="lazy" alt="" src=""
                                                    class="tiktok-1zpj2q-ImgAvatarUpdate"></span>
                                        </div>
                                        <div aria-label="Profile photo" role="button" tabindex="0"
                                            data-e2e="edit-profile-avatar-edit-icon"
                                            class="tiktok-14wt3ei-DivAvatarEditIcon e13yu7jj20"><svg width="16"
                                                data-e2e="" height="16" viewBox="0 0 48 48" fill="currentColor"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M26.5858 5.08579C27.3479 4.32371 28.5767 4.30253 29.3646 5.03789L36.8646 12.0379C37.2612 12.408 37.4904 12.9232 37.4997 13.4655C37.5091 14.0078 37.2977 14.5307 36.9142 14.9142L16.9142 34.9142C16.5391 35.2893 16.0304 35.5 15.5 35.5H8.5C7.39543 35.5 6.5 34.6046 6.5 33.5V26C6.5 25.4696 6.71071 24.9609 7.08579 24.5858L26.5858 5.08579ZM28.0479 9.2805L10.5 26.8284V31.5H14.6716L32.622 13.5496L28.0479 9.2805Z">
                                                </path>
                                                <path
                                                    d="M7 41C7 40.4477 7.44772 40 8 40H41C41.5523 40 42 40.4477 42 41V43C42 43.5523 41.5523 44 41 44H8C7.44772 44 7 43.5523 7 43V41Z">
                                                </path>
                                            </svg> <input tabindex="-1" type="file"
                                                accept=".jpg, .jpeg, .png, .tiff, .heic, .webp"
                                                class="tiktok-4jv9vo-InputUpload e13yu7jj22">
                                        </div>
                                    </div>
                                </div>
                                <div class="tiktok-oldb3k-DivItemContainer-StyledItemContainerWithLine e13yu7jj10">
                                    <div data-e2e="edit-profile-username" class="tiktok-1wo2vh7-DivLabel e13yu7jj11">
                                        Username</div>
                                    <div data-e2e="edit-profile-username-input"
                                        class="tiktok-gzzkuf-DivEditAreaContainer e13yu7jj13"><input
                                            aria-invalid="false" aria-label="" placeholder="Username"
                                            id="profileUsernameInput" class="tiktok-18jpos7-InputText e13yu7jj14"
                                            value="<%= customer.username%>">
                                        <p data-e2e="edit-profile-username-link"
                                            class="tiktok-488yjn-PProfileSite e13yu7jj17">
                                            <!-- Thêm một phần tử <div> để hiển thị thông báo lỗi -->
                                        <div id="usernameError" class="error-message"></div>

                                        </p>
                                        <p data-e2e="edit-profile-username-link"
                                            class="tiktok-488yjn-PProfileSite e13yu7jj17">www.tiktok.com/<%=
                                                customer.username %>
                                        </p>
                                        <p data-e2e="edit-profile-username-tip"
                                            class="tiktok-c23n31-PProfileSite-StyledTip e13yu7jj18">Usernames can only
                                            contain letters, numbers, underscores, and periods. Changing your username
                                            will
                                            also change your profile link.</p>
                                    </div>
                                </div>
                                <div class="tiktok-oldb3k-DivItemContainer-StyledItemContainerWithLine e13yu7jj10">
                                    <div data-e2e="edit-profile-name" class="tiktok-1wo2vh7-DivLabel
                                    e13yu7jj11">Name</div>
                                    <div data-e2e="edit-profile-name-input"
                                        class="tiktok-gzzkuf-DivEditAreaContainer e13yu7jj13"><input
                                            aria-invalid="false" aria-label="" placeholder="Name" id="profileNameInput"
                                            class="tiktok-18jpos7-InputText e13yu7jj14" value='<%= customer.name %>'>
                                        <p class="tiktok-c23n31-PProfileSite-StyledTip e13yu7jj18">Your nickname can
                                            only be
                                            changed once every 7 days.</p>
                                    </div>
                                </div>
                                <div class="tiktok-1557cp-DivItemContainer e13yu7jj7">
                                    <div data-e2e="edit-profile-bio" class="tiktok-1wo2vh7-DivLabel e13yu7jj11">Bio
                                    </div>
                                    <div class="tiktok-gzzkuf-DivEditAreaContainer e13yu7jj13"><textarea
                                            id="profileBioInput" data-e2e="edit-profile-bio-input" placeholder="Bio"
                                            class="tiktok-1um014y-InputText-StyledInputTextArea e13yu7jj16"><%= customer.bio %></textarea>
                                        <div id="charCount" class="tiktok-p96n95-DivTextCount e13yu7jj19">
                                            <span>0/</span>80
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tiktok-dwj06y-DivFooterContainer e13yu7jj4"><button type="button"
                                    data-e2e="edit-profile-cancel"
                                    class="e13yu7jj5 tiktok-1khwp92-Button-StyledBtn ehk74z00">Cancel</button><button
                                    type="submit" type="button" data-e2e="edit-profile-save" disabled="" id="saveButton"
                                    type="submit"
                                    class="e13yu7jj5 tiktok-95m0zs-Button-StyledBtn ehk74z00">Save</button>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</form>

<script>
    const logo = document.querySelector('.tiktok-1zpj2q-ImgAvatar')
    const userName = document.querySelector('.tiktok-1xo9k5n-H1ShareTitle');
    const userSubtitle = document.querySelector('.tiktok-10pb43i-H2ShareSubTitle');
    const followersCount = document.querySelector('[data-e2e="followers-count"]');
    const followingCount = document.querySelector('[data-e2e="following-count"]');
    const likesCount = document.querySelector('[data-e2e="likes-count"]');
    const userBio = document.querySelector('.tiktok-4ac4gk-H2ShareDesc');
    const editProfileForm = document.getElementById('editProfileForm');
    const editProfileButton = document.querySelector('.tiktok-16gecda-Button-StyledEditButton');

    logo.src = customer.logo ? customer.logo : "";
    userName.textContent = customer.username;
    userSubtitle.textContent = customer.name;
    followersCount.textContent = customer.followers.length;
    followingCount.textContent = customer.following.length;
    likesCount.textContent = customer.likes;
    userBio.textContent = customer.bio;

    editProfileButton.addEventListener('click', function () {
        const closeButton = document.querySelector('[data-e2e="edit-profile-close"]');
        const cancelButton = document.querySelector('[data-e2e="edit-profile-cancel"]');
        const errorElement = document.getElementById("usernameError");
        const saveButton = document.getElementById('saveButton');
        const usernameInput = document.getElementById("profileUsernameInput");
        const nameInput = document.getElementById("profileNameInput")
        const profileBioInput = document.getElementById('profileBioInput');
        const charCountElement = document.getElementById('charCount');
        const editAvatarIcon = document.querySelector('[data-e2e="edit-profile-avatar-edit-icon"]');
        const avatarInput = document.querySelector('.tiktok-4jv9vo-InputUpload.e13yu7jj22');
        const avatarPreview = document.querySelector('.tiktok-1zpj2q-ImgAvatarUpdate');
        const Form = document.getElementById('Form');
        navMenu.style.zIndex = '0'
        navMenuMiddle.style.zIndex = '0'
        function showLoader() {
            let loader = document.querySelector('.loader');
            loader.classList.add('visible');
        }

        function hideLoader() {
            let loader = document.querySelector('.loader');
            loader.classList.remove('visible');
        }

        function hideEditProfileForm() {
            editProfileForm.style.display = 'none';
            avatarPreview.src = customer.logo;
            usernameInput.value = customer.username;
            nameInput.value = customer.name;
            profileBioInput.value = customer.bio;
            navMenu.style.zIndex = '11'
            navMenuMiddle.style.zIndex = '10'
            document.body.classList.remove('modal-open');
            editProfileButton.removeEventListener('click', this);
        }

        document.body.classList.add('modal-open');
        saveButton.disabled = true;
        editProfileForm.style.display = 'flex';

        charCountElement.textContent = `${profileBioInput.value.length}/80`

        closeButton.addEventListener('click', hideEditProfileForm);

        cancelButton.addEventListener('click', hideEditProfileForm);

        usernameInput.addEventListener("input", function () {
            const username = usernameInput.value;
            const isValid = /^[a-zA-Z0-9_]+$/.test(username);
            if (!isValid) {
                errorElement.textContent = "Tên người dùng chỉ được chứa chữ cái, số, dấu gạch dưới và dấu chấm.";
                saveButton.disabled = true;
            } else {
                errorElement.textContent = "";
                saveButton.disabled = false;
            }
        });

        nameInput.addEventListener("input", function () {
            saveButton.disabled = false;
        })

        editAvatarIcon.addEventListener('click', function () {
            avatarInput.click();
        });

        avatarInput.addEventListener('change', function (event) {
            const selectedFile = event.target.files[0];
            if (selectedFile) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    avatarPreview.src = e.target.result;
                };
                reader.readAsDataURL(selectedFile);
                saveButton.disabled = false;
            }
        });

        profileBioInput.addEventListener('input', function () {
            const charCount = profileBioInput.value.length;
            charCountElement.textContent = charCount;
            if (charCount > 80) {
                saveButton.disabled = true;
            } else { saveButton.disabled = false; }
        });

        Form.addEventListener('submit', function (event) {
            showLoader()
            event.preventDefault()
            const avatar = avatarInput.files[0];
            const username = usernameInput.value;
            const name = nameInput.value;
            const bio = profileBioInput.value;
            const formData = new FormData();
            formData.append('avatar', avatar);
            formData.append('username', username);
            formData.append('name', name);
            formData.append('bio', bio);
            fetch('/customer/profile/update', {
                method: 'POST',
                body: formData
            })
                .then(data => {
                    hideLoader()
                    window.location.href = `/customer/profile/${customer.id}`
                })
                .catch(error => {
                    console.error('Error:', error);
                });

        });
    });
</script>

<script>
    let videos = customer.videos
    let likedVideoIds = customer.likedVideos
    let followedSet
    let likedVideoSet
    const listLike = document.querySelector('.tiktok-r7ao4-PLike')
    const listPost = document.querySelector('.tiktok-8i8qcr-PPost')
    let bottomLine = document.querySelector(".tiktok-1f8gh88-DivBottomLine");
    let divVideoFeed = document.querySelector('.tiktok-yvmafn-DivVideoFeedV2')
    const videoContainer = document.querySelector('[data-e2e="user-post-item-list"]');
    const listVideoDiv = document.querySelector('.tiktok-10qtkim-DivShareLayoutBase-StyledShareLayoutV2')
    const bigDiv = document.getElementById('bigDiv')
    window.onpopstate = function (event) {
        window.location.href = window.location.pathname
    }
    // function showLoader() {
    //     let loader = document.querySelector('.loader');
    //     loader.classList.add('visible');
    // }

    // function hideLoader() {
    //     let loader = document.querySelector('.loader');
    //     loader.classList.remove('visible');
    // }
    function showCustomAlert(message) {
        const customAlert = document.getElementById('customAlert');
        const alertMessage = document.getElementById('alertMessage');
        alertMessage.textContent = message;
        customAlert.style.display = 'flex';
        setTimeout(() => {
            customAlert.style.display = 'none';
        }, 1500);
    }
    function updateVolumeIcon(isMuted) {
        const svg = volumeButton.querySelector('svg');
        svg.innerHTML = ''
        if (isMuted) {
            const path1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path1.setAttribute('fill-rule', 'evenodd');
            path1.setAttribute('clip-rule', 'evenodd');
            path1.setAttribute('d', 'M21 16.9118C21 15.2513 20.8942 15.0909 20.709 15.0221C20.5238 14.9763 20.3122 14.9992 20.1799 15.1138L15.0741 19.5258H11.4762C11.2116 19.5258 11 19.7092 11 19.9384V28.084C11 28.3132 11.2116 28.4965 11.4762 28.4965H15.0741L20.1799 32.8862C20.3122 33.0008 20.5238 33.0237 20.709 32.9779C20.8942 32.9091 21 32.7487 21 32.5882V16.9118Z'); // Đường dẫn path cho trạng thái muted
            path1.setAttribute('fill', 'white');
            svg.appendChild(path1);
            const path2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path2.setAttribute('fill-rule', 'evenodd');
            path2.setAttribute('clip-rule', 'evenodd');
            path2.setAttribute('d', 'M35.098 18.9489C34.5998 18.4508 33.7921 18.4508 33.2939 18.949L30.1368 22.1061L26.9797 18.949C26.4815 18.4508 25.6738 18.4508 25.1756 18.9489C24.6775 19.4471 24.6775 20.2548 25.1756 20.753L28.3327 23.9101L25.1757 27.0672C24.6775 27.5654 24.6775 28.3731 25.1757 28.8713C25.6738 29.3694 26.4815 29.3694 26.9797 28.8713L30.1368 25.7142L33.2939 28.8713C33.7921 29.3694 34.5998 29.3694 35.0979 28.8713C35.5961 28.3731 35.5961 27.5654 35.0979 27.0672L31.9409 23.9101L35.098 20.753C35.5962 20.2548 35.5962 19.4471 35.098 18.9489Z'); // Đường dẫn path cho trạng thái muted
            path2.setAttribute('fill', 'white');
            svg.appendChild(path2);
        } else {
            const path1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path1.setAttribute('fill-rule', 'evenodd');
            path1.setAttribute('clip-rule', 'evenodd');
            path1.setAttribute('d', 'M21 16.9118C21 15.2513 20.8942 15.0909 20.709 15.0221C20.5238 14.9763 20.3122 14.9992 20.1799 15.1138L15.0741 19.5258H11.4762C11.2116 19.5258 11 19.7092 11 19.9384V28.084C11 28.3132 11.2116 28.4965 11.4762 28.4965H15.0741L20.1799 32.8862C20.3122 33.0008 20.5238 33.0237 20.709 32.9779C20.8942 32.9091 21 32.7487 21 32.5882V16.9118Z'); // Đường dẫn path cho trạng thái unmuted
            path1.setAttribute('fill', 'white');
            svg.appendChild(path1);
            const path2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path2.setAttribute('d', 'M30.6653 15C32.7348 17.2304 34.0001 20.2174 34.0001 23.5C34.0001 26.7826 32.7348 29.7696 30.6653 32');
            path2.setAttribute('stroke', 'white');
            path2.setAttribute('stroke-width', '2.5');
            path2.setAttribute('stroke-linecap', 'round');
            svg.appendChild(path2);
            const path3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path3.setAttribute('d', 'M26.8799 17.8833C28.1994 19.381 28.9999 21.347 28.9999 23.5C28.9999 25.653 28.1994 27.6191 26.8799 29.1168');
            path3.setAttribute('stroke', 'white');
            path3.setAttribute('stroke-width', '2.5');
            path3.setAttribute('stroke-linecap', 'round');
            svg.appendChild(path3);
        }
    }
    function formatTimeDifference(updateAt) {
        const dateObject = new Date(updateAt);
        const today = new Date();
        const timeDifference = today - dateObject;

        const minuteInMilliseconds = 1000 * 60;
        const hourInMilliseconds = minuteInMilliseconds * 60;
        const dayInMilliseconds = hourInMilliseconds * 24;
        const weekInMilliseconds = dayInMilliseconds * 7;

        if (timeDifference < hourInMilliseconds) {
            const minutesDifference = Math.floor(timeDifference / minuteInMilliseconds);
            return `${minutesDifference}m ago`;
        } else if (timeDifference < dayInMilliseconds) {
            const hoursDifference = Math.floor(timeDifference / hourInMilliseconds);
            return `${hoursDifference}h ago`;
        } else if (timeDifference > weekInMilliseconds) {
            const day = dateObject.getDate();
            const month = dateObject.getMonth() + 1;
            return `${month}-${day}`;
        } else {
            const daysDifference = Math.floor(timeDifference / dayInMilliseconds);
            return `${daysDifference}d ago`;
        }
    }
    function createCommentElement(comment) {
        const updateTimeDifference = formatTimeDifference(comment.createdAt);

        const commentDiv = document.createElement('div');
        commentDiv.classList.add("tiktok-1i7ohvi-DivCommentItemContainer");

        commentDiv.innerHTML = `
        <div class="tiktok-ulyotp-DivCommentContentContainer e1g2efjf0">
            <a data-e2e="comment-avatar-1" class="e1g2efjf5 tiktok-1jatens-StyledLink-StyledUserLinkAvatar er1vbsz0" href="/customer/profile/${comment.customer.id}" style="flex: 0 0 40px;">
                <span shape="circle" data-e2e="" class="tiktok-tuohvl-SpanAvatarContainer e1e9er4e0" style="width: 40px; height: 40px;">
                    <img loading="lazy" alt="" src="${comment.customer.logo}" class="tiktok-1zpj2q-ImgAvatar">
                </span>
            </a>
            <div class="tiktok-1mf23fd-DivContentContainer e1g2efjf1">
                <a class="e1g2efjf4 tiktok-fx1avz-StyledLink-StyledUserLinkName er1vbsz0" href="/customer/profile/${comment.customer.id}">
                    <span data-e2e="comment-username-1" class="tiktok-1665s4c-SpanUserNameText e1g2efjf3">${comment.customer.name}</span>
                </a>
                <p data-e2e="comment-level-1" class="tiktok-xm2h10-PCommentText e1g2efjf6">
                    <span dir="">${comment.text}</span>
                </p>
                <p class="tiktok-1sun2p5-PCommentSubContent e1g2efjf9">
                    <span data-e2e="comment-time-1" class="tiktok-4tru0g-SpanCreatedTime e1g2efjf8">${updateTimeDifference}</span>
                    <span aria-label="Reply" role="button" data-e2e="comment-reply-1" tabindex="0" class="tiktok-ro5z69-SpanReplyButton e1g2efjf10">Reply</span>
                </p>
            </div>
            <div class="tiktok-1swe2yf-DivActionContainer esns4rh0">
                <div aria-label="more" role="button" tabindex="0" class="tiktok-5g6iif-DivMoreContainer esns4rh1">
                    <div data-e2e="comment-more-icon">
                        <svg class="tiktok-fzlfzu-StyledMoreIcon esns4rh2" width="1em" data-e2e="" height="1em" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M4 24C4 21.7909 5.79086 20 8 20C10.2091 20 12 21.7909 12 24C12 26.2091 10.2091 28 8 28C5.79086 28 4 26.2091 4 24ZM20 24C20 21.7909 21.7909 20 24 20C26.2091 20 28 21.7909 28 24C28 26.2091 26.2091 28 24 28C21.7909 28 20 26.2091 20 24ZM36 24C36 21.7909 37.7909 20 40 20C42.2091 20 44 21.7909 44 24C44 26.2091 42.2091 28 40 28C37.7909 28 36 26.2091 36 24Z">
                            </path>
                        </svg>
                    </div>
                </div>
                <div aria-label="Like video {number} likes" aria-pressed="false" role="button" tabindex="0" class="tiktok-114tc9h-DivLikeWrapper ezxoskx0">
                    <div data-e2e="comment-like-icon" class="tiktok-1tvtgfz-DivLikeIcon ezxoskx2">
                        <svg width="20" data-e2e="" height="20" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M24 9.01703C19.0025 3.74266 11.4674 3.736 6.67302 8.56049C1.77566 13.4886 1.77566 21.4735 6.67302 26.4016L22.5814 42.4098C22.9568 42.7876 23.4674 43 24 43C24.5326 43 25.0432 42.7876 25.4186 42.4098L41.327 26.4016C46.2243 21.4735 46.2243 13.4886 41.327 8.56049C36.5326 3.736 28.9975 3.74266 24 9.01703ZM21.4938 12.2118C17.9849 8.07195 12.7825 8.08727 9.51028 11.3801C6.16324 14.7481 6.16324 20.214 9.51028 23.582L24 38.1627L38.4897 23.582C41.8368 20.214 41.8368 14.7481 38.4897 11.3801C35.2175 8.08727 30.0151 8.07195 26.5062 12.2118L26.455 12.2722L25.4186 13.3151C25.0432 13.6929 24.5326 13.9053 24 13.9053C23.4674 13.9053 22.9568 13.6929 22.5814 13.3151L21.545 12.2722L21.4938 12.2118Z">
                            </path>
                        </svg>
                    </div>
                    <span data-e2e="comment-like-count" class="tiktok-gb2mrc-SpanCount ezxoskx3" style="margin-left: 0px; margin-right: 0px;">0</span>
                </div>
            </div>
        </div>
    `;

        return commentDiv;
    }
    async function updateVideoDetails(video, commentsCountElement, likeCountElement, commentCountElement, undefinedCountElement, usernameElement, nameElement, daysDifferenceElement, updateTimeDifference, captionElement, avatarImage, videoThumbnail, videoPlay, svgIcon) {

        const replaceHashtagsWithLinks = (match, p1) => {
            const foundHashtag = video.hashtags.find(hashtag => hashtag.name === p1);
            if (foundHashtag) {
                return `<a data-e2e="search-common-link" target="_self" rel="opener"
                 class="css-g8ml1x-StyledLink-StyledCommonLink"  
                 href="/hashtag/${foundHashtag.name}/videos"><strong color="rgba(43, 93, 185, 1)" 
                 class="css-1p6dp51-StrongText">#${foundHashtag.name} </strong></a>`;
            }
            return match;
        };

        const resultCaptionWithLinks = video.caption.replace(/#(\w+)/g, replaceHashtagsWithLinks);
        commentsCountElement.textContent = `Comments (${video.comments.length})`;
        likeCountElement.textContent = video.likes;
        commentCountElement.textContent = video.comments.length;
        undefinedCountElement.textContent = '0';
        usernameElement.textContent = video.user.username;
        nameElement.textContent = video.user.name;
        daysDifferenceElement.textContent = formatTimeDifference(video.createdAt);;
        captionElement.innerHTML = resultCaptionWithLinks;
        avatarImage.src = `${video.user.logo}`;
        videoThumbnail.src = `${video.thumbnail}`;
        videoPlay.src = `${video.video}`;
        svgIcon.setAttribute('fill', 'rgba(22, 24, 35)');
    }
    async function updateVideoDetailsNotSouce(video, commentsCountElement, likeCountElement, commentCountElement, undefinedCountElement, usernameElement, nameElement, daysDifferenceElement, updateTimeDifference, captionElement, avatarImage, videoThumbnail) {
        const replaceHashtagsWithLinks = (match, p1) => {
            const foundHashtag = video.hashtags.find(hashtag => hashtag.name === p1);
            if (foundHashtag) {
                return `<a data-e2e="search-common-link" target="_self" rel="opener"
                 class="css-g8ml1x-StyledLink-StyledCommonLink"  
                 href="/hashtag/${foundHashtag.name}/videos"><strong color="rgba(43, 93, 185, 1)" 
                 class="css-1p6dp51-StrongText">#${foundHashtag.name} </strong></a>`;
            }
            return match;
        };

        const resultCaptionWithLinks = video.caption.replace(/#(\w+)/g, replaceHashtagsWithLinks);
        commentsCountElement.textContent = `Comments (${video.comments.length})`;
        likeCountElement.textContent = video.likes;
        commentCountElement.textContent = video.comments.length;
        undefinedCountElement.textContent = '0';
        usernameElement.textContent = video.user.username;
        nameElement.textContent = video.user.name;
        daysDifferenceElement.textContent = formatTimeDifference(video.createdAt);;
        captionElement.innerHTML = resultCaptionWithLinks;
        avatarImage.src = `${video.user.logo}`;
        videoThumbnail.src = `${video.thumbnail}`;
    }
    function handleLikeDetail(videoId, svgIcon) {
        if (likedVideoSet.has(videoId)) {
            svgIcon.setAttribute('fill', 'rgba(254, 44, 85)');
        }
    }
    function updateVideoDataAtIndex(indexToModify, newData) {
        const currentVideosData = JSON.parse(sessionStorage.getItem('videosData')) || [];
        currentVideosData[indexToModify] = newData;
        videos = currentVideosData
        sessionStorage.setItem('videosData', JSON.stringify(currentVideosData));
    }
    function handleVisibilityEvent(videoPlay, playIcon) {
        document.hidden ? videoPlay.pause() : playIcon.style.display === 'none' ? videoPlay.play() : videoPlay.pause()
    }
    function updateLeftArrowDisplay(indexCurrent, leftArrow) {
        if (indexCurrent === '0' || !indexCurrent) {
            leftArrow.style.display = "none";
        } else {
            leftArrow.style.display = "flex";
        }
    }
    function updateCustomer() {
        socket.emit('updateCustomer', { id: customer.id }, (err) => console.error(err));
        socket.on('updateCustomer', (data) => {
            customer = data;
            videos = customer.videos
            likedVideoIds = customer.likedVideos;
            likedVideoSet = new Set(likedVideoIds.map(video => video.id));
            followedSet = new Set(customer.following.map(following => following.id));
        });
    }
    function updateVideo(video) {
        return new Promise((resolve, reject) => {
            socket.emit('updateVideo', { id: video.id }, (data) => {
                resolve(data.video);
            });

            socket.on('updateVideo', (data) => {
                resolve(data.video);
            });
        });
    }
    function removeCommentContainers() {
        const commentContainers = document.querySelectorAll('.tiktok-1i7ohvi-DivCommentItemContainer');
        commentContainers.forEach(commentContainer => {
            commentContainer.remove();
        });
    }
    function appendCommentsToContainer(comments, container) {
        comments.forEach(comment => {
            const commentElement = createCommentElement(comment);
            container.appendChild(commentElement);
        });
    }
    function updateURL(url, unsed, type) {
        unsed ? unsed : 'null'
        if (type === 'push') {
            window.history.pushState({}, unsed, url);
        } else {
            window.history.replaceState({}, unsed, url);
        }
    }
    function createVideoContainer(comment) {
        const divVideo = document.createElement('div');
        divVideo.classList = "tiktok-1qg2388-DivBrowserModeContainer"
        divVideo.style.display = "flex";
        divVideo.style.overflow = "hidden";
        divVideo.innerHTML = `
    <div class="tiktok-1tunefa-DivVideoContainer e11s2kul23">
        <div class="tiktok-zqqb1u-DivSearchBarContainer e11s2kul27">
            <div class="tiktok-1vve6pb-DivSearchBarBackground e11s2kul28"></div>
            <div class="tiktok-1s4i1zx-DivSearchFormContainer e1hi1cmj0">
                <form data-e2e="search-box" class="search-input tiktok-mebjpe-FormElement e14ntknm0" action="/search">
                    <input placeholder="Find related content" name="q" type="search" autocomplete="off" role="combobox"
                        aria-controls="" aria-label="Find related content" aria-expanded="false"
                        aria-autocomplete="list" data-e2e="search-user-input"
                        class="tiktok-1a4jouy-InputElement e14ntknm3" value=""><span
                        class="tiktok-v2cms4-SpanSpliter e14ntknm6"></span><button data-e2e="search-box-button"
                        type="submit" aria-label="Search" class="tiktok-16dy42q-ButtonSearch e14ntknm7">
                        <div class="tiktok-17iic05-DivSearchIconContainer e14ntknm8"><svg width="24" data-e2e=""
                                height="24" viewBox="0 0 48 48" fill="rgba(255, 255, 255, .75)"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M22 10C15.3726 10 10 15.3726 10 22C10 28.6274 15.3726 34 22 34C28.6274 34 34 28.6274 34 22C34 15.3726 28.6274 10 22 10ZM6 22C6 13.1634 13.1634 6 22 6C30.8366 6 38 13.1634 38 22C38 25.6974 36.7458 29.1019 34.6397 31.8113L43.3809 40.5565C43.7712 40.947 43.7712 41.5801 43.3807 41.9705L41.9665 43.3847C41.5759 43.7753 40.9426 43.7752 40.5521 43.3846L31.8113 34.6397C29.1019 36.7458 25.6974 38 22 38C13.1634 38 6 30.8366 6 22Z">
                                </path>
                            </svg></div>
                    </button>
                    <div class="tiktok-zs9tvf-DivBrowserModeInputBorder e14ntknm2"></div>
                </form>
            </div>
        </div>
        <div class="tiktok-xhj3u2-StyledVideoBlurBackground"><span
                style="box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: absolute; inset: 0px;">
                <picture>
                    <source type="image/avif">
                    <img loading="lazy" decoding="async" imagex-type="react" imagex-version="0.3.7"
                        style="position: absolute; inset: 0px; box-sizing: border-box; padding: 0px; border: none; margin: auto; display: block; width: 0px; height: 0px; min-width: 100%; max-width: 100%; min-height: 100%; max-height: 100%;">
                </picture>
            </span></div>
        <div class="tiktok-15ggvmu-DivVideoWrapper e11s2kul4">
            <div mode="2" class="tiktok-1jxhpnd-DivContainer e1yey0rl0">
                <div data-e2e="browse-video" class="tiktok-8lv75m-DivBasicPlayerWrapper e1yey0rl2">
                    <div id="xgwrapper-2-7273303434869198082" class="tiktok-web-player"
                        style="width: 100%; height: 100%;"><video playsinline="" preload="auto" loop crossorigin="anonymous"
                            style="width: 100%; height: 100%;" autoplay loop></video>
                    </div>
                </div>
            </div>
            <div class="tiktok-1nzcgaf-DivVideoControlContainer e1rpry1m5">
                <div class="tiktok-bo5mth-DivSeekBarContainer e1rpry1m0">
                    <div tabindex="0" role="slider" aria-label="progress bar" aria-valuenow="0.06664748657233444"
                        aria-valuetext="00:00" class="tiktok-1972tl1-DivSeekBarProgress e1rpry1m2"></div>
                    <div class="tiktok-1ioucls-DivSeekBarCircle e1rpry1m4" style="left: calc(6.66475%);"></div>
                    <div class="tiktok-kqqewi-DivSeekBar e1rpry1m3"
                        style="transform: scaleX(0.0666475) translateY(-50%);"></div>
                </div>
                <div class="tiktok-o2z5xv-DivSeekBarTimeContainer e1rpry1m1">00:00/00:14</div>
            </div>
            <div class="tiktok-mzxtw3-DivVideoControlTop e1rpry1m7"></div>
            <div class="tiktok-1ap2cv9-DivVideoControlBottom e1rpry1m6"></div>
        </div><svg id="playIcon" style="display:none" xmlns="http://www.w3.org/2000/svg" width="70" height="70"
            fill="#fff" data-e2e="browse-video-play" class="tiktok-196swoi-StyledPlayIcon e11s2kul5">
            <use xlink:href="#Play_Fill-6957a00f"></use>
        </svg><button role="button" aria-label="Close" data-e2e="browse-close"
            class="tiktok-yg0pvs-ButtonBasicButtonContainer-StyledCloseIconContainer e11s2kul7"><svg width="18"
                data-e2e="" height="18" viewBox="0 0 9 10" fill="#fff" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M1.35299 0.792837L4.49961 3.93944L7.64545 0.792566C7.8407 0.597249 8.15733 0.597223 8.35262 0.792508L8.70669 1.14658C8.90195 1.34184 8.90195 1.65842 8.70669 1.85368L5.56027 5.0001L8.70672 8.14655C8.90198 8.34181 8.90198 8.65839 8.70672 8.85366L8.35316 9.20721C8.1579 9.40247 7.84132 9.40247 7.64606 9.20721L4.49961 6.06076L1.35319 9.20719C1.15793 9.40245 0.841345 9.40245 0.646083 9.20719L0.292629 8.85373C0.0973708 8.65847 0.0973653 8.3419 0.292617 8.14664L3.43895 5.0001L0.292432 1.85357C0.0972034 1.65834 0.0971656 1.34182 0.292347 1.14655L0.645801 0.792924C0.841049 0.597582 1.1577 0.597543 1.35299 0.792837Z">
                </path>
            </svg></button>
        <div class="tiktok-oit0gv-DivVoiceControlContainer e11s2kul22"><button tabindex="0" role="button"
                aria-label="Volume" data-e2e="browse-sound" class="tiktok-6mttet-ButtonVoiceControlNew e11s2kul21">
                <svg width="40" data-e2e="" height="40" viewBox="0 0 48 48" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <circle cx="24" cy="24" r="24"></circle>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M21 16.9118C21 15.2513 20.8942 15.0909 20.709 15.0221C20.5238 14.9763 20.3122 14.9992 20.1799 15.1138L15.0741 19.5258H11.4762C11.2116 19.5258 11 19.7092 11 19.9384V28.084C11 28.3132 11.2116 28.4965 11.4762 28.4965H15.0741L20.1799 32.8862C20.3122 33.0008 20.5238 33.0237 20.709 32.9779C20.8942 32.9091 21 32.7487 21 32.5882V16.9118Z"
                        fill="white"></path>
                    <path
                        d="M30.6653 15C32.7348 17.2304 34.0001 20.2174 34.0001 23.5C34.0001 26.7826 32.7348 29.7696 30.6653 32"
                        stroke="white" stroke-width="2.5" stroke-linecap="round"></path>
                    <path
                        d="M26.8799 17.8833C28.1994 19.381 28.9999 21.347 28.9999 23.5C28.9999 25.653 28.1994 27.6191 26.8799 29.1168"
                        stroke="white" stroke-width="2.5" stroke-linecap="round">
                    </path>
                </svg></button></div>
        <button data-e2e="arrow-left" role="button" aria-label="Go to previous video"
            class="tiktok-1w6o9i7-ButtonBasicButtonContainer-StyledVideoSwitch"><svg width="26" data-e2e="" height="26"
                viewBox="0 0 48 48" fill="#fff" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M34.4142 22.5858L18.1213 6.29289C17.7308 5.90237 17.0976 5.90237 16.7071 6.29289L15.2929 7.70711C14.9024 8.09763 14.9024 8.7308 15.2929 9.12132L30.1716 24L15.2929 38.8787C14.9024 39.2692 14.9024 39.9024 15.2929 40.2929L16.7071 41.7071C17.0976 42.0976 17.7308 42.0976 18.1213 41.7071L34.4142 25.4142C35.1953 24.6332 35.1953 23.3668 34.4142 22.5858Z">
                </path>
            </svg></button><button data-e2e="arrow-right" role="button" aria-label="Go to next video"
            class="tiktok-1s9jpf8-ButtonBasicButtonContainer-StyledVideoSwitch"><svg width="26" data-e2e="" height="26"
                viewBox="0 0 48 48" fill="#fff" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M34.4142 22.5858L18.1213 6.29289C17.7308 5.90237 17.0976 5.90237 16.7071 6.29289L15.2929 7.70711C14.9024 8.09763 14.9024 8.7308 15.2929 9.12132L30.1716 24L15.2929 38.8787C14.9024 39.2692 14.9024 39.9024 15.2929 40.2929L16.7071 41.7071C17.0976 42.0976 17.7308 42.0976 18.1213 41.7071L34.4142 25.4142C35.1953 24.6332 35.1953 23.3668 34.4142 22.5858Z">
                </path>
            </svg></button>
        <div tabindex="0" data-e2e="browse-ellipsis" class="tiktok-q969e7-DivIconWrapper e11s2kul18"><svg
                xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor">
                <use xlink:href="#Ellipsis_Horizontal_Fill-9ee69fcf"></use>
            </svg></div>
    </div>
    <div class="tiktok-1qjw4dg-DivContentContainer e1mecfx00">
        <div data-e2e="search-comment-container" class="tiktok-13if7zh-DivCommentContainer ekjxngi0">
            <div class="tiktok-1qp5gj2-DivCommentListContainer">
                <div class="tiktok-1xlna7p-DivProfileWrapper">
                    <div class="tiktok-pcqxr7-DivDescriptionContentWrapper e1mecfx011">
    <div class="tiktok-85dfh6-DivInfoContainer evv7pft0"><a rel="opener" target="_self" data-e2e="browse-user-avatar"
            class="evv7pft8 tiktok-1fng5o0-StyledLink er1vbsz0" href="/customer/profile/${customer.id}">
            <div class="tiktok-uha12h-DivContainer" style="width: 40px; height: 40px;">
                <span shape="circle" data-e2e="" class="tiktok-gcksof-SpanAvatarContainer-StyledAvatar"
                    style="width: 40px; height: 40px;"><img loading="lazy" alt=""
                        src=""
                        class="tiktok-1zpj2q-ImgAvatar">
                </span>
            </div>
        </a><a target="_self" rel="opener" class="tiktok-n2qh4e-StyledLink-StyledLink" href="/customer/profile/${customer.id}"><span
                data-e2e="browse-username" class="tiktok-1c7urt-SpanUniqueId"><span
                    class="tiktok-pocgy1-SpanEllipsis"></span></span><br><span data-e2e="browser-nickname"
                class="tiktok-gg0x0w-SpanOtherInfos"><span class="tiktok-pocgy1-SpanEllipsis"></span><span
                    style="margin: 0px 4px;"> ·
                </span><span></span></span></a>
            <div data-e2e="video-setting" class="css-1dcgmzm-DivActionContainer"><svg
                    class="css-1xafdg4-StyledEllipsisHorizontal" width="1em" data-e2e="" height="1em"
                    viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M4 24C4 21.7909 5.79086 20 8 20C10.2091 20 12 21.7909 12 24C12 26.2091 10.2091 28 8 28C5.79086 28 4 26.2091 4 24ZM20 24C20 21.7909 21.7909 20 24 20C26.2091 20 28 21.7909 28 24C28 26.2091 26.2091 28 24 28C21.7909 28 20 26.2091 20 24ZM36 24C36 21.7909 37.7909 20 40 20C42.2091 20 44 21.7909 44 24C44 26.2091 42.2091 28 40 28C37.7909 28 36 26.2091 36 24Z">
                    </path>
                </svg>
<div tabindex="-1" class="css-ejp1tv-DivContainer" style="right: -11px;display: none;";>
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="rgba(37, 37, 37, 1)"
        class="css-1ny6agx-StyledTopArrow e2ipgxl1" style="right: 10px;">
        <use xlink:href="#tip_arrow_white-99f4b53c"></use>
    </svg>
    <ul class="css-1n18b5h-UlPopupContainer e161jvwg2">
        <li data-e2e="video-privacy-settings" class="css-rrnssd-LiPopupItem e161jvwg3"><button type="button"
                class="css-1qijq2p-ButtonAction e161jvwg4">Privacy settings</button></li>
        <li data-e2e="video-delete" class="css-rrnssd-LiPopupItem e161jvwg3"><button type="button"
                class="css-1qijq2p-ButtonAction e161jvwg4">Delete</button></li>
    </ul>
</div>
                </div>
    </div>
    <div class="tiktok-1nst91u-DivMainContent e1mecfx01">
        <div class="tiktok-bs495z-DivWrapper e1mzilcj0">
            <div class="tiktok-1rhses0-DivText e1mzilcj1" style="max-height: unset;">
                <div class="tiktok-mokgbx-DivBtnWrapper e1mzilcj4"><button type="button"
                        class="tiktok-1r94cis-ButtonExpand e1mzilcj2">more</button></div>
                <div class=" tiktok-1d7krfw-DivOverflowContainer e1mzilcj5">
                    <div data-e2e="browse-video-desc" class="tiktok-1wdx3tj-DivContainer ejg0rhn0">
                        <span class="tiktok-j2a19r-SpanText efbd9f0"></span>
                    </div>
                </div>
            </div>
        </div>
        <h4 data-e2e="browse-music" class="tiktok-17nfpht-H4Link epjbyn0"><a target="_self" rel="opener"
                class="epjbyn1 tiktok-v80f7r-StyledLink-StyledLink er1vbsz0" aria-label="" href=""><svg
                    xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="rgba(22, 24, 35, 1)" styletype="1"
                    class="tiktok-ftrwfo-MusicNoteIcon epjbyn4">
                    <use xlink:href="#Music_Note-8c658968"></use>
                </svg>
                <div class="tiktok-pvx3oa-DivMusicText epjbyn3">original sound - 🍪</div>
            </a></h4>

    </div>
</div>
                    <div class="tiktok-hlg65e-DivMainContent">
                        <div class="tiktok-184umhf-DivContainer">
                            <div class="tiktok-1452egd-DivFlexCenterRow-StyledWrapper">
                                <div class="tiktok-1d39a26-DivFlexCenterRow">
                                    <button type="button" aria-label="30.6K fixed_likes" aria-pressed="false"
                                        class="tiktok-xakz2y-ButtonActionItem e1hk3hf90"><span
                                            data-e2e="browse-like-icon"
                                            class="tiktok-3ahw3w-SpanIconWrapper e1hk3hf91"><svg
                                                xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                                                <use xlink:href="#heart-fill-03bd63df"></use>
                                            </svg></span><strong data-e2e="browse-like-count"
                                            class="tiktok-w1dlre-StrongText e1hk3hf92"></strong></button>
                                    <button type="button" disabled=""
                                        class="tiktok-xakz2y-ButtonActionItem e1hk3hf90"><span
                                            data-e2e="browse-comment-icon" class="tiktok-3ahw3w-SpanIconWrapper">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor">
                                                <use xlink:href="#Bubble_Ellipsis_Right_Fill-a497dc09"></use>
                                            </svg></span>
                                        <strong data-e2e="browse-comment-count"
                                            class="tiktok-w1dlre-StrongText"></strong></button><button type="button"
                                        class="tiktok-xakz2y-ButtonActionItem e1hk3hf90"><span data-e2e="undefined-icon"
                                            class="tiktok-3ahw3w-SpanIconWrapper e1hk3hf91"><svg
                                                xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" style="color: rgb(22, 24, 35);">
                                                <use xlink:href="#uncollect-8a52664d"></use>
                                            </svg></span><strong data-e2e="undefined-count"
                                            class="tiktok-w1dlre-StrongText"></strong></button>
                                </div>
                                <div data-e2e="browse-share-group" class="tiktok-1d39a26-DivFlexCenterRow ehlq8k31"><a
                                        id="icon-element-embed" mode="0" href="#" data-e2e="video-share-embed"
                                        aria-label="Embed" class="tiktok-vy3jtp-AShareLink e15mchsh0"><svg width="24"
                                            data-e2e="" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z"
                                                fill="#161823" fill-opacity="0.75"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M12.313 7.96568C12.3665 7.65966 12.658 7.45498 12.964 7.50851C13.27 7.56203 13.4747 7.8535 13.4211 8.15951L12.0506 15.9952C11.997 16.3012 11.7056 16.5059 11.3996 16.4523C11.0936 16.3988 10.8889 16.1073 10.9424 15.8013L12.313 7.96568ZM16.2402 8.77448C15.96 8.48453 15.5058 8.48453 15.2256 8.77448C14.9454 9.06443 14.9454 9.53454 15.2256 9.82449L17.454 12.1307L15.2262 14.4364C14.946 14.7263 14.946 15.1964 15.2262 15.4864C15.5063 15.7763 15.9606 15.7763 16.2407 15.4864L19.4551 12.1598C19.4704 12.1439 19.4704 12.1182 19.4551 12.1023L19.2233 11.8623L19.2201 11.8586L19.2158 11.854L16.2402 8.77448ZM8.88972 15.4867C8.59977 15.7766 8.12966 15.7766 7.83971 15.4867L5.4207 13.0677L4.76017 12.4071L4.51191 12.1589C4.49603 12.143 4.49603 12.1173 4.51191 12.1014L7.83853 8.77477C8.12848 8.48482 8.59859 8.48482 8.88854 8.77477C9.17849 9.06472 9.17849 9.53482 8.88854 9.82478L6.58318 12.1301L8.88972 14.4367C9.17967 14.7266 9.17967 15.1967 8.88972 15.4867Z"
                                                fill="white"></path>
                                        </svg></a><a id="icon-element-message" mode="0" href="#"
                                        data-e2e="video-share-message" aria-label="Send to friends"
                                        class="tiktok-vy3jtp-AShareLink e15mchsh0"><svg width="24" data-e2e=""
                                            height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z"
                                                fill="#FE2C55"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M18.7913 7.1875C18.6796 6.99413 18.4733 6.875 18.25 6.875H5.75001C5.50258 6.875 5.27845 7.02097 5.17839 7.24727C5.07834 7.47356 5.1212 7.73758 5.28771 7.9206L8.55021 11.5065C8.72305 11.6965 8.9945 11.7614 9.23456 11.6702L13.7656 9.94799C13.8184 9.92795 13.8423 9.93624 13.8527 9.94039C13.871 9.94765 13.8971 9.96649 13.9177 10.0013C13.9382 10.0361 13.9421 10.0681 13.9396 10.0876C13.9382 10.0987 13.9339 10.1237 13.8909 10.1602L10.1707 13.3155C9.97902 13.4782 9.90339 13.7398 9.97878 13.9796L11.4038 18.5124C11.4781 18.749 11.6853 18.9192 11.9317 18.9463C12.1781 18.9734 12.4173 18.8522 12.5413 18.6375L18.7913 7.81251C18.9029 7.61913 18.9029 7.38088 18.7913 7.1875Z"
                                                fill="white"></path>
                                        </svg></a><a id="icon-element-facebook" mode="0" href="" target="_blank"
                                        rel="noopener noreferrer" data-e2e="video-share-facebook"
                                        aria-label="Share to Facebook" class="tiktok-vy3jtp-AShareLink e15mchsh0"><svg
                                            width="24" data-e2e="" height="24" viewBox="0 0 48 48" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M24 47C36.7025 47 47 36.7025 47 24C47 11.2975 36.7025 1 24 1C11.2975 1 1 11.2975 1 24C1 36.7025 11.2975 47 24 47Z"
                                                fill="white"></path>
                                            <path
                                                d="M24 1C11.2964 1 1 11.2964 1 24C1 35.4775 9.40298 44.9804 20.3846 46.7205L20.3936 30.6629H14.5151V24.009H20.3936C20.3936 24.009 20.3665 20.2223 20.3936 18.5363C20.4206 16.8503 20.7542 15.2274 21.6288 13.7487C22.9722 11.4586 25.0639 10.3407 27.6335 10.0251C29.7432 9.76362 31.826 10.0521 33.9087 10.3407C34.0529 10.3587 34.125 10.3767 34.2693 10.4038C34.2693 10.4038 34.2783 10.6472 34.2693 10.8005C34.2603 12.4053 34.2693 16.0839 34.2693 16.0839C33.2685 16.0659 31.6096 15.9667 30.5096 16.138C28.6884 16.4175 27.6425 17.5806 27.6064 19.4108C27.5704 20.8354 27.5884 24.009 27.5884 24.009H33.9988L32.962 30.6629H27.5974V46.7205C38.597 44.9984 47.009 35.4775 47.009 24C47 11.2964 36.7036 1 24 1Z"
                                                fill="#0075FA"></path>
                                        </svg></a><a id="icon-element-whatsapp" mode="0" href="" target="_blank"
                                        rel="noopener noreferrer" data-e2e="video-share-whatsapp"
                                        aria-label="Share to WhatsApp" class="tiktok-vy3jtp-AShareLink e15mchsh0"><svg
                                            width="24" data-e2e="" height="24" viewBox="0 0 48 48" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M24 47C36.7025 47 47 36.7025 47 24C47 11.2975 36.7025 1 24 1C11.2975 1 1 11.2975 1 24C1 36.7025 11.2975 47 24 47Z"
                                                fill="#25D366"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M30.9028 25.6129C30.5802 25.4515 28.9944 24.6713 28.6988 24.5635C28.4031 24.4559 28.1881 24.4021 27.9731 24.7249C27.758 25.0478 27.1399 25.7744 26.9517 25.9897C26.7636 26.2049 26.5754 26.2319 26.2529 26.0704C25.9303 25.909 24.891 25.5684 23.659 24.4694C22.7002 23.6141 22.0528 22.5579 21.8647 22.235C21.6765 21.9121 21.8446 21.7375 22.0061 21.5767C22.1512 21.4321 22.3287 21.2 22.4899 21.0116C22.6512 20.8233 22.705 20.6887 22.8125 20.4735C22.92 20.2582 22.8663 20.0699 22.7855 19.9085C22.7049 19.747 22.0599 18.1593 21.7911 17.5134C21.5293 16.8845 21.2634 16.9697 21.0654 16.9598C20.8774 16.9504 20.6622 16.9484 20.4472 16.9484C20.2322 16.9484 19.8827 17.0291 19.587 17.352C19.2914 17.6749 18.4581 18.4553 18.4581 20.0428C18.4581 21.6306 19.6139 23.1643 19.7752 23.3795C19.9365 23.5949 22.0496 26.8528 25.2853 28.2499C26.0548 28.5823 26.6557 28.7807 27.1241 28.9293C27.8968 29.1749 28.5999 29.1402 29.1557 29.0572C29.7754 28.9646 31.064 28.277 31.3328 27.5235C31.6016 26.7699 31.6016 26.1242 31.521 25.9897C31.4404 25.8551 31.2253 25.7744 30.9028 25.6129ZM25.0178 33.6472H25.0134C23.0881 33.6465 21.1998 33.1292 19.5524 32.1517L19.1606 31.9191L15.0998 32.9844L16.1837 29.0251L15.9286 28.6191C14.8546 26.9109 14.2873 24.9365 14.2881 22.9091C14.2905 16.9934 19.1037 12.1805 25.022 12.1805C27.8879 12.1815 30.5817 13.299 32.6076 15.3271C34.6333 17.3551 35.7482 20.0509 35.7471 22.9178C35.7447 28.8339 30.9315 33.6472 25.0178 33.6472ZM34.1489 13.7858C31.7117 11.3458 28.4706 10.0014 25.0173 10C17.902 10 12.111 15.7906 12.1082 22.908C12.1073 25.1832 12.7017 27.4039 13.8313 29.3617L12 36.0509L18.8432 34.2559C20.7287 35.2843 22.8516 35.8264 25.0121 35.827H25.0174H25.0174C32.132 35.827 37.9234 30.0359 37.9263 22.9184C37.9276 19.4691 36.5861 16.2258 34.1489 13.7858Z"
                                                fill="white"></path>
                                        </svg></a><a id="icon-element-twitter" mode="0" href="" target="_blank"
                                        rel="noopener noreferrer" data-e2e="video-share-twitter"
                                        aria-label="Share to Twitter" class="tiktok-vy3jtp-AShareLink e15mchsh0"><svg
                                            width="24" data-e2e="" height="24" viewBox="0 0 48 48" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M24.0002 47.001C36.7028 47.001 47.0002 36.7035 47.0002 24.001C47.0002 11.2984 36.7028 1.00098 24.0002 1.00098C11.2977 1.00098 1.00024 11.2984 1.00024 24.001C1.00024 36.7035 11.2977 47.001 24.0002 47.001Z"
                                                fill="#1DA1F2"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M38.2029 13.5327C37.3894 14.0824 35.5215 14.8813 34.6003 14.8813V14.8829C33.5484 13.7237 32.0675 13 30.4252 13C27.2353 13 24.6488 15.7287 24.6488 19.0925C24.6488 19.5598 24.7001 20.0157 24.795 20.4529H24.794C20.4671 20.3331 15.7348 18.0452 12.886 14.1294C11.1344 17.3277 12.6501 20.8848 14.6378 22.1809C13.9574 22.235 12.7049 22.0982 12.1153 21.4913C12.0758 23.6142 13.0434 26.4269 16.5714 27.4473C15.8919 27.8329 14.6892 27.7223 14.1662 27.6402C14.3497 29.4322 16.7285 31.775 19.3297 31.775C18.4026 32.9063 14.9144 34.9582 11 34.3054C13.6584 36.0118 16.7568 37 20.0362 37C29.3556 37 36.5929 29.0322 36.2034 19.2027C36.2019 19.1919 36.2019 19.1811 36.2009 19.1693C36.2019 19.144 36.2034 19.1187 36.2034 19.0925C36.2034 19.0619 36.2009 19.0331 36.2 19.0035C37.0484 18.3914 38.1868 17.3087 39 15.8836C38.5284 16.1577 37.1134 16.7064 35.7968 16.8426C36.6418 16.3615 37.8937 14.7858 38.2029 13.5327Z"
                                                fill="white"></path>
                                        </svg></a><button aria-expanded="false" aria-label="Share"
                                        class="tiktok-eu9eez-ButtonShare ehlq8k37"><svg width="16" data-e2e=""
                                            height="16" viewBox="0 0 48 48" fill="currentColor"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M26.4588 3.90871C25.3403 2.86068 23.4902 3.64074 23.4902 5.16041V13.0502C20.4499 14.1752 11.3194 18.1407 6.6047 26.6176C-1.49677 42.1311 3.82522 43.478 5.77105 39.7411C13.2467 29.1857 20.8146 30.4298 23.4902 31.3209V38.2274C23.4902 39.7114 25.2658 40.5055 26.4023 39.5298L43.3681 24.9655C44.9268 23.6274 44.9791 21.2608 43.4811 19.8573L26.4588 3.90871Z">
                                            </path>
                                        </svg></button></div>
                            </div>
                            <div class="tiktok-1x3bx1n-DivCopyLinkContainer">
                                <p data-e2e="browse-video-link" class="tiktok-1v8b11s-PCopyLinkText">
                                </p><button data-e2e="browse-copy" class="tiktok-7e23lp-ButtonCopyLink">Copy
                                    link </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tiktok-h5r7le-DivTabMenuWrapper e1aa9wve4">
                    <div class="tiktok-3yeu18-DivTabMenuContainer e1aa9wve0">
                        <div class="tiktok-97lq0-DivTabItemContainer e1aa9wve1">
                            <div class="tiktok-15wq8g0-DivTabItem"></div>
                        </div>
                        <div class="tiktok-1gy98k0-DivTabItemContainer e1aa9wve1">
                            <div class="tiktok-1iu17z5-DivTabItem e1aa9wve2">Creator videos</div>
                        </div>
                    </div>
                    <div class="tiktok-1vgn7ia-DivBorder e1aa9wve3"></div>
                </div>
            </div>
        </div>
        <div class="tiktok-19hqadz-DivBottomCommentContainer e1mecfx04">
            <div class="tiktok-jvtqsz-DivCommentContainer e1rzzhjk0">
                <div class="tiktok-1vplah5-DivLayoutContainer e1rzzhjk1">
                    <div data-e2e="comment-input" class="tiktok-1un92a9-DivInputAreaContainer e1rzzhjk2">
                        <div data-e2e="comment-text" class="tiktok-qpucp9-DivInputEditorContainer e1rzzhjk3">
                            <div class="tiktok-lso1ai-DivInputAreaContainer e1d90qbv0">
                                <div class="DraftEditor-root">
                                    <div class="public-DraftEditorPlaceholder-root">
                                        <div class="public-DraftEditorPlaceholder-inner" id="placeholder-erend"
                                            style="white-space: pre-wrap;">Add comment...</div>
                                    </div>
                                    <div class="DraftEditor-editorContainer">
                                        <div aria-describedby="placeholder-erend"
                                            class="notranslate public-DraftEditor-content" contenteditable="true"
                                            role="textbox" spellcheck="false"
                                            style="outline: none; user-select: text;  overflow-wrap: break-word;">
                                            <div data-contents="true">
                                                <div class="" data-block="true" data-editor="erend"
                                                    data-offset-key="e9gie-0-0">
                                                    <div data-offset-key="e9gie-0-0">
                                                        <span data-offset-key="e9gie-0-0"><br data-text="true"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div aria-label="&quot;@&quot; a user to tag them in your comments" aria-expanded="false"
                            role="button" tabindex="0" data-e2e="comment-at-icon"
                            class="tiktok-1vi8qz3-DivMentionButton e1rzzhjk4"><svg width="1em" data-e2e="" height="1em"
                                viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C28.0553 42 31.7921 40.6614 34.8006 38.401L35.6001 37.8003C36.0416 37.4686 36.6685 37.5576 37.0003 37.9992L38.2016 39.5981C38.5334 40.0397 38.4443 40.6666 38.0028 40.9983L37.2033 41.599C33.5258 44.3619 28.9513 46 24 46C11.8497 46 2 36.1503 2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24V26C46 30.4843 42.1949 34 37.8438 34C35.1966 34 32.8496 32.7142 31.3935 30.733C29.5649 32.7403 26.9303 34 24 34C18.4772 34 14 29.5228 14 24C14 18.4772 18.4772 14 24 14C29.5228 14 34 18.4772 34 24C34 24.5814 33.9502 25.1528 33.8541 25.7096C33.8473 25.8052 33.8438 25.902 33.8438 26C33.8438 28.2091 35.6347 30 37.8438 30C40.1201 30 42 28.1431 42 26V24C42 14.0589 33.9411 6 24 6ZM24 18C20.6863 18 18 20.6863 18 24C18 27.3137 20.6863 30 24 30C26.9395 30 29.3891 27.8841 29.9013 25.0918C29.9659 24.7392 30 24.3744 30 24C30 20.6863 27.3137 18 24 18Z">
                                </path>
                            </svg></div>
                        <div aria-label="Click to add emojis" aria-expanded="false" role="button" tabindex="0"
                            data-e2e="comment-emoji-icon" class="tiktok-1yq6goo-DivEmojiButton e1rzzhjk5"><svg
                                width="1em" data-e2e="" height="1em" viewBox="0 0 48 48" fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24Z">
                                </path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M17 23C18.6569 23 20 21.2091 20 19C20 16.7909 18.6569 15 17 15C15.3431 15 14 16.7909 14 19C14 21.2091 15.3431 23 17 23Z">
                                </path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M31 23C32.6569 23 34 21.2091 34 19C34 16.7909 32.6569 15 31 15C29.3431 15 28 16.7909 28 19C28 21.2091 29.3431 23 31 23Z">
                                </path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M16 28.3431C16 31.4673 19.5817 36 24 36C28.4183 36 32 31.4673 32 28.3431C32 25.219 16 25.219 16 28.3431Z">
                                </path>
                            </svg></div>
                    </div>
                </div>
                <div aria-disabled="true" aria-label="Post" role="button" tabindex="0" data-e2e="comment-post"
                    class="tiktok-n4wkvf-DivPostButton">Post</div>
            </div>
        </div>
    </div>
    <div id="tux-portal-container"
    style="position: absolute;display: none; z-index: 9999; height: 0px; width: 0px; top: 0px; left: 0px;">
    <div>
        <div data-focus-guard="true" tabindex="0"
            style="width: 1px; height: 0px; padding: 0px; overflow: hidden; position: fixed; top: 1px; left: 1px;">
        </div>
        <div data-focus-lock-disabled="false">
            <div>
                <div class="css-d84lpe-ModalContainer e1wuf0b30">
                    <div class="css-ai36k9-ModalBackdrop e1wuf0b35"></div>
                    <div tabindex="-1" class="css-17s26nl-ModalContentContainer e1wuf0b31">
                        <div class="css-15neh3t-ModalContentVerticalPositionContainer e1wuf0b32">
                            <div class="css-ihckm8-ModalContentVerticalPositionPadding e1wuf0b33">
                                <section role="dialog" aria-modal="true" aria-labelledby="tux-18_header"
                                    aria-describedby="tux-18_body" class="css-19l8hzs-ModalContentSection e1wuf0b34">
                                    <div class="css-19su1n8-DivContentWrapper e1i2llgv1">
                                        <h2 class="css-185q4cy-H2Title e1i2llgv2">Privacy settings</h2>
                                        <p class="css-jvtlsx-PDesc e1i2llgv3">Who can watch this video</p>
                                        <div class="css-17hfips-DivContainer e1rwytmq0">
                                            <div data-e2e="video-setting-choose"
                                                class="css-xutyu3-DivSelectionContainer e1rwytmq1">
                                                <p class="css-1bi8eji-PSelected e1rwytmq2">Public</p><svg
                                                    class="css-njdtma-StyledChevronDown e1rwytmq3" width="24"
                                                    data-e2e="" height="24" viewBox="0 0 48 48" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M22.5858 32.4142L8.29289 18.1213C7.90237 17.7308 7.90237 17.0976 8.29289 16.7071L9.70711 15.2929C10.0976 14.9024 10.7308 14.9024 11.1213 15.2929L24 28.1716L36.8787 15.2929C37.2692 14.9024 37.9024 14.9024 38.2929 15.2929L39.7071 16.7071C40.0976 17.0976 40.0976 17.7308 39.7071 18.1213L25.4142 32.4142C24.6332 33.1953 23.3668 33.1953 22.5858 32.4142Z">
                                                    </path>
                                                </svg>
                                            </div>
                                            <!-- <div class="css-1c5c336-DivSelectMask e1rwytmq4"></div> -->
                                            <ul class="css-cyte9w-UlOptionsContainer e1rwytmq5" style="display: none;">
                                                <li data-e2e="video-watch-list" title="Public"
                                                    class="css-162z403-LiOptionsItem e1rwytmq6">
                                                    <p class="css-12d79cw-POptionsTitle e1rwytmq7">Public</p>
                                                    <p class="css-omp3j8-POptionsDesc e1rwytmq8">Anyone on TikTok</p>
                                                </li>
                                                <li data-e2e="video-watch-list" title="Friends"
                                                    class="css-162z403-LiOptionsItem e1rwytmq6">
                                                    <p class="css-12d79cw-POptionsTitle e1rwytmq7">Friends</p>
                                                    <p class="css-omp3j8-POptionsDesc e1rwytmq8">Followers that you
                                                        follow back</p>
                                                </li>
                                                <li data-e2e="video-watch-list" title="Private"
                                                    class="css-162z403-LiOptionsItem e1rwytmq6">
                                                    <p class="css-12d79cw-POptionsTitle e1rwytmq7">Private</p>
                                                    <p class="css-omp3j8-POptionsDesc e1rwytmq8">Visible to me only</p>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="css-jeip9v-DivSwitchGroupContainer e1i2llgv4">
                                            <div class="css-3uij16-DivSwitchItemContainer e1i2llgv5"><span
                                                    class="css-1r9aifx-SpanSwitchText e1i2llgv6">Allow
                                                    comments </span><button data-e2e="video-setting-comment"
                                                    type="button" role="switch" aria-checked="true"
                                                    class="css-ge3lma-ButtonSwitchContainer eoeunh02">
                                                    <div width="44px" height="24px"
                                                        class="css-12xzmck-DivSwitchWrapper eoeunh00"><span width="20px"
                                                            height="20px"
                                                            class="css-9lvgjp-SpanSwitchIcon eoeunh01"></span></div>
                                                </button></div>
                                            <div class="css-3uij16-DivSwitchItemContainer e1i2llgv5"><span
                                                    class="css-1r9aifx-SpanSwitchText e1i2llgv6">Coming
                                                    soon</span><button data-e2e="video-setting-duet" type="button"
                                                    role="switch" aria-checked="true"
                                                    class="css-ge3lma-ButtonSwitchContainer eoeunh02">
                                                    <div width="44px" height="24px"
                                                        class="css-12xzmck-DivSwitchWrapper eoeunh00"><span width="20px"
                                                            height="20px"
                                                            class="css-9lvgjp-SpanSwitchIcon eoeunh01"></span></div>
                                                </button></div>
                                            <div class="css-3uij16-DivSwitchItemContainer e1i2llgv5"><span
                                                    class="css-1r9aifx-SpanSwitchText e1i2llgv6">Coming
                                                    soon</span><button data-e2e="video-setting-stitch" type="button"
                                                    role="switch" aria-checked="true"
                                                    class="css-ge3lma-ButtonSwitchContainer eoeunh02">
                                                    <div width="44px" height="24px"
                                                        class="css-12xzmck-DivSwitchWrapper eoeunh00"><span width="20px"
                                                            height="20px"
                                                            class="css-9lvgjp-SpanSwitchIcon eoeunh01"></span></div>
                                                </button></div>
                                        </div>
                                        <p class="css-1u1dhg0-PHint e1i2llgv7">Coming soon</p>
                                    </div><button data-e2e="video-setting-down"
                                        class="css-6fnltj-ButtonSave e1i2llgv8">Done</button>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-focus-guard="true" tabindex="0"
            style="width: 1px; height: 0px; padding: 0px; overflow: hidden; position: fixed; top: 1px; left: 1px;">
        </div>
    </div>
</div>
       `
        return divVideo;
    }

    function displayVideosTemplate(video) {
        const template =
            `<div data-e2e="user-post-item" class="tiktok-x6f6za-DivContainer-StyledDivContainerV2" tabindex="0" role="button" aria-label="Watch in full screen">
      <div style="padding-top: 132.653%;">
        <div class="tiktok-1as5cen-DivWrapper e1cg0wnj1">
          <a  tabindex="-1">
            <canvas width="75.38461538461539" height="100" class="tiktok-1yvkaiq-CanvasPlaceholder e19c29qe2"></canvas>
            <div class="tiktok-1wa52dp-DivPlayerContainer e19c29qe5">
              <div mode="1" class="tiktok-1jxhpnd-DivContainer e1yey0rl0">
                <div class="tiktok-41hm0z">
                  <span style="box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: absolute; inset: 0px;">
                    <picture>
                      <source type="image/avif" srcset="${video.thumbnail}">
                      <img loading="lazy" alt="${video.caption}" decoding="async" src="${video.thumbnail}" imagex-type="react" imagex-version="0.3.7" style="position: absolute; inset: 0px; box-sizing: border-box; padding: 0px; border: none; margin: auto; display: block; width: 0px; height: 0px; min-width: 100%; max-width: 100%; min-height: 100%; max-height: 100%;">
                    </picture>
                  </span>
                </div>
              </div>
              <div class="tiktok-11u47i-DivCardFooter e148ts220">
                <svg class="like-icon tiktok-h342g4-StyledPlay e148ts225" width="18" data-e2e="" height="18" viewBox="0 0 48 48" fill="#fff" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M16 10.554V37.4459L38.1463 24L16 10.554ZM12 8.77702C12 6.43812 14.5577 4.99881 16.5569 6.21266L41.6301 21.4356C43.5542 22.6038 43.5542 25.3962 41.6301 26.5644L16.5569 41.7873C14.5577 43.0012 12 41.5619 12 39.223V8.77702Z"></path>
                </svg>
                <strong data-e2e="video-views" class="video-count tiktok-dirst9-StrongVideoCount e148ts222">${video.views}</strong>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div aria-label="${video.caption}" data-e2e="user-post-item-desc" class="tiktok-16ou6xi-DivTagCardDesc eih2qak1" tabindex="0">
      <a title="${video.caption}" class="tiktok-1wrhn5c-AMetaCaptionLine eih2qak0" tabindex="-1">
        <div class="tiktok-kqbg74-DivContainer ejg0rhn0" tabindex="-1">
          <span class="tiktok-j2a19r-SpanText efbd9f0" tabindex="-1">${video.caption}</span>
        </div>
      </a>
    </div> `
        return template;
    }

    function setSpanOtherInfosContent(spanOtherInfos, video, customer, updateTimeDifference) {
        if (video.who === 'Private') {

            spanOtherInfos.innerHTML = `<span class="tiktok-pocgy1-SpanEllipsis evv7pft2">${customer.name}</span>
                                    <span style="margin: 0px 4px;"> · </span><span>${updateTimeDifference} </span>
                                        <span style="margin: 0px 4px;"> · </span><svg width="16" data-e2e="" height="16"
                                        viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                                        style="fill: rgb(22, 24, 35); opacity: 0.5; margin: 0px 4px;">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M24 3C17.9249 3 13 7.92487 13 14V21H8C6.89543 21 6 21.8954 6 23V41C6 42.1046 6.89543 43 8 43H40C41.1046 43 42 42.1046 42 41V23C42 21.8954 41.1046 21 40 21H35V14C35 7.92487 30.0751 3 24 3ZM31 21V14C31 10.134 27.866 7 24 7C20.134 7 17 10.134 17 14V21H31Z">
                                        </path>
                                    </svg><span>${video.who}</span></span>`;
        } else if (video.who === 'Friends') {
            spanOtherInfos.innerHTML = `<span class="tiktok-pocgy1-SpanEllipsis evv7pft2">${customer.name}</span>
                                    <span style="margin: 0px 4px;"> · </span><span>${updateTimeDifference} </span>
                                        <span style="margin: 0px 4px;"> · </span><svg width="20" height="20" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg" style="margin: 0px 4px;">
                                    <path d="M25.5 17C25.5 21.1421 22.1421 24.5 18 24.5C13.8579 24.5 10.5 21.1421 10.5 17C10.5 12.8579 13.8579 9.5 18 9.5C22.1421 9.5 25.5 12.8579 25.5 17Z"></path>
                                    <path d="M7.10396 34.7906C8.78769 30.2189 12.8204 27 18.0009 27C23.1818 27 27.2107 30.2213 28.8958 34.7898C29.3075 35.906 28.6141 37 27.5 37H8.5C7.38629 37 6.69289 35.9067 7.10396 34.7906Z"></path>
                                    <path d="M40.6308 37H32C31.2264 34.1633 30.0098 31.5927 28.144 29.7682C29.5384 28.9406 31.1829 28.5 33 28.5C37.239 28.5 40.536 30.8992 41.9148 35.0108C42.2516 36.0154 41.5423 37 40.6308 37Z"></path>
                                    <path d="M33 26.5C36.0376 26.5 38.5 24.0376 38.5 21C38.5 17.9624 36.0376 15.5 33 15.5C29.9624 15.5 27.5 17.9624 27.5 21C27.5 24.0376 29.9624 26.5 33 26.5Z"></path>
                                </svg><span>${video.who}</span></span>`;
        } else {
            spanOtherInfos.innerHTML = `<span class="tiktok-pocgy1-SpanEllipsis evv7pft2">${customer.name}</span>
                                    <span style="margin: 0px 4px;"> · </span><span>${updateTimeDifference} </span>`;
        }
    }

    function displayVideos(videosSpec) {
        let videosFinal = videosSpec ? videosSpec : JSON.parse(sessionStorage.getItem('videosData'))
        videosFinal.forEach((video, index) => {
            const videoElement = document.createElement('div');
            videoElement.classList = 'tiktok-x6y88p-DivItemContainerV2'
            videoElement.innerHTML = displayVideosTemplate(video)
            videoContainer.appendChild(videoElement);
            videoElement.addEventListener('click', () => {
                listVideoDiv.style.display = 'none'
                navMenu.style.display = 'none'
                navMenuMiddle.style.display = 'none'
                bigDiv.style.display = 'none'
                sessionStorage.setItem('indexCurrentVideoProfile', index);
                const divVideo = createVideoContainer();
                document.body.appendChild(divVideo)
                continuePlay(JSON.parse(sessionStorage.getItem('videosData'))[index], divVideo);
            });
        });
    }

    function continuePlay(video, divVideo) {
        const inputElement = divVideo.querySelector('.public-DraftEditor-content');
        const placeholderDiv = divVideo.querySelector('.public-DraftEditorPlaceholder-root');
        const xButton = divVideo.querySelector('.tiktok-yg0pvs-ButtonBasicButtonContainer-StyledCloseIconContainer');
        const volumeButton = divVideo.querySelector('.tiktok-6mttet-ButtonVoiceControlNew');
        const playIcon = divVideo.querySelector('[data-e2e="browse-video-play"]');
        const xgwrapper = divVideo.querySelector('.tiktok-web-player')
        const videoPlay = xgwrapper.querySelector('video');
        const mainContainer = divVideo.querySelector('.tiktok-1qg2388-DivBrowserModeContainer')
        const divMainContainer = divVideo.querySelector('.css-1t4vwes-DivMainContainer')
        const thumbnailDiv = divVideo.querySelector('.tiktok-xhj3u2-StyledVideoBlurBackground');
        const videoThumbnail = thumbnailDiv.querySelector('img');
        const avatarImage = divVideo.querySelector('.tiktok-uha12h-DivContainer').querySelector('img');
        const usernameElement = divVideo.querySelector('[data-e2e="browse-username"] .tiktok-pocgy1-SpanEllipsis');
        const nameElement = divVideo.querySelector('[data-e2e="browser-nickname"] .tiktok-pocgy1-SpanEllipsis');
        const daysDifferenceElement = divVideo.querySelector('[data-e2e="browser-nickname"] span:last-child');
        const captionElement = divVideo.querySelector('.tiktok-1wdx3tj-DivContainer')
        const actionElements = divVideo.querySelector('.tiktok-1d39a26-DivFlexCenterRow');
        const likeElement = actionElements.querySelector('[data-e2e="browse-like-icon"]');
        const likeCountElement = divVideo.querySelector('[data-e2e="browse-like-count"]');
        const commentCountElement = actionElements.querySelector('[data-e2e="browse-comment-count"]');
        const undefinedCountElement = actionElements.querySelector('[data-e2e="undefined-count"]');
        const commentsCountElement = divVideo.querySelector('.tiktok-15wq8g0-DivTabItem');
        const postComment = divVideo.querySelector('.tiktok-n4wkvf-DivPostButton')
        const divCommentList = divVideo.querySelector('.tiktok-1qp5gj2-DivCommentListContainer')
        const svgIcon = likeElement.querySelector('svg');
        const copyLinkText = divVideo.querySelector('.tiktok-1v8b11s-PCopyLinkText')
        const buttonCopyLink = divVideo.querySelector('.tiktok-7e23lp-ButtonCopyLink')
        const updateTimeDifference = formatTimeDifference(video.createdAt);
        const rightArrow = divVideo.querySelector('.tiktok-1s9jpf8-ButtonBasicButtonContainer-StyledVideoSwitch');
        const leftArrow = divVideo.querySelector('.tiktok-1w6o9i7-ButtonBasicButtonContainer-StyledVideoSwitch')
        let indexCurrent = sessionStorage.getItem('indexCurrentVideoProfile');
        const threeDot = divVideo.querySelector(".css-1dcgmzm-DivActionContainer");
        const editVideo = divVideo.querySelector(".css-ejp1tv-DivContainer");
        const modalContent = divVideo.querySelector('.tiktok-17s26nl-ModalContentContainer');
        const spanOtherInfos = divVideo.querySelector('.tiktok-gg0x0w-SpanOtherInfos');
        const divProfileWrapper = divVideo.querySelector('.tiktok-1xlna7p-DivProfileWrapper')
        const editVideoForm = document.getElementById('tux-portal-container')
        const buttonActionVideo = document.querySelectorAll('.css-1qijq2p-ButtonAction.e161jvwg4');
        const divRigtVideo = divVideo.querySelector('.tiktok-1tunefa-DivVideoContainer')
        let isScrolling;
        let isMuted = false
        let isMouseOver
        const handleVisibilityChange = () => {
            handleVisibilityEvent(videoPlay, playIcon);
        }

        copyLinkText.innerHTML = `${host}/video/${video.id}`
        indexCurrent = +indexCurrent


        updateURL(`/video/${video.id}`, "pageProfile", 'push');

        updateLeftArrowDisplay(indexCurrent, leftArrow);

        updateVideoDetails(video, commentsCountElement, likeCountElement, commentCountElement, undefinedCountElement, usernameElement, nameElement, daysDifferenceElement, updateTimeDifference, captionElement, avatarImage, videoThumbnail, videoPlay, svgIcon);

        handleLikeDetail(video.id, svgIcon);

        removeCommentContainers();

        appendCommentsToContainer(video.comments, divCommentList);

        setSpanOtherInfosContent(spanOtherInfos, video, customer, updateTimeDifference);

        likeElement.addEventListener("click", () => {
            const fillValue = svgIcon.getAttribute('fill');
            if (fillValue === "rgba(22, 24, 35)") {
                likeCountElement.innerText = +likeCountElement.innerText + 1
                svgIcon.setAttribute('fill', 'rgba(254, 44, 85)');
                fetch(`/video/like/${video.id}`, {
                    method: 'POST',
                })
                    .then(async (data) => {
                        let newVideo = await updateVideo(video)
                        video = await newVideo
                        await updateVideoDataAtIndex(indexCurrent, video);
                        updateCustomer()
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            } else {
                likeCountElement.innerText = +likeCountElement.innerText - 1
                svgIcon.setAttribute('fill', 'rgba(22, 24, 35)');
                fetch(`/video/dislike/${video.id}`, {
                    method: 'POST',
                })
                    .then(async (data) => {
                        let newVideo = await updateVideo(video)
                        video = await newVideo
                        await updateVideoDataAtIndex(indexCurrent, video);
                        updateCustomer()
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            }
        });

        threeDot.addEventListener('click', function () {
            if (editVideo.style.display === "flex") {
                editVideo.style.display = "none";
            } else {
                editVideo.style.display = "flex";
            }
        });

        divProfileWrapper.addEventListener('mouseleave', function () {
            if (editVideo.style.display === "flex") {
                editVideo.style.display = "none";
            }
        });

        postComment.addEventListener('click', () => {
            if (inputElement.textContent.trim() !== '') {
                const data = {
                    mess: inputElement.textContent.trim()
                }
                fetch(`/video/comment/${video.id}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json' // Định dạng dữ liệu gửi đi là JSON
                    },
                    body: JSON.stringify(data)
                })
                    .then(async (data) => {
                        placeholderDiv.style.display = 'block';
                        postComment.style.color = 'rgba(22, 24, 35, 0.34)'
                        const commentDiv = document.createElement('div');
                        commentDiv.classList = "listComments"
                        commentDiv.innerHTML = `
                                <div class="listComments">
                <div class="tiktok-1i7ohvi-DivCommentItemContainer">
                    <div id="7293732457551086344" class="tiktok-ulyotp-DivCommentContentContainer e1g2efjf0"><a data-e2e="comment-avatar-1" class="e1g2efjf5 tiktok-1jatens-StyledLink-StyledUserLinkAvatar er1vbsz0" href="/customer/profile/${customer.id}" style="flex: 0 0 40px;"><span shape="circle" data-e2e="" class="tiktok-tuohvl-SpanAvatarContainer e1e9er4e0" style="width: 40px; height: 40px;"><img loading="lazy" alt="" src="${customer.logo}" class="tiktok-1zpj2q-ImgAvatar"></span></a>
                        <div class="tiktok-1mf23fd-DivContentContainer e1g2efjf1"><a class="e1g2efjf4 tiktok-fx1avz-StyledLink-StyledUserLinkName er1vbsz0" href="/customer/profile/${customer.id}"><span data-e2e="comment-username-1" class="tiktok-1665s4c-SpanUserNameText e1g2efjf3">${customer.name}</span></a>
                            <p data-e2e="comment-level-1" class="tiktok-xm2h10-PCommentText e1g2efjf6"><span dir="">${inputElement.textContent.trim()}</span></p>
                            <p class="tiktok-1sun2p5-PCommentSubContent e1g2efjf9"><span data-e2e="comment-time-1" class="tiktok-4tru0g-SpanCreatedTime e1g2efjf8">0m ago</span><span aria-label="Reply" role="button" data-e2e="comment-reply-1" tabindex="0" class="tiktok-ro5z69-SpanReplyButton e1g2efjf10">Reply</span></p>
                        </div>
                        <div class="tiktok-1swe2yf-DivActionContainer esns4rh0">
                            <div aria-label="more" role="button" tabindex="0" class="tiktok-5g6iif-DivMoreContainer esns4rh1">
                                <div data-e2e="comment-more-icon"><svg class="tiktok-fzlfzu-StyledMoreIcon esns4rh2" width="1em" data-e2e="" height="1em" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4 24C4 21.7909 5.79086 20 8 20C10.2091 20 12 21.7909 12 24C12 26.2091 10.2091 28 8 28C5.79086 28 4 26.2091 4 24ZM20 24C20 21.7909 21.7909 20 24 20C26.2091 20 28 21.7909 28 24C28 26.2091 26.2091 28 24 28C21.7909 28 20 26.2091 20 24ZM36 24C36 21.7909 37.7909 20 40 20C42.2091 20 44 21.7909 44 24C44 26.2091 42.2091 28 40 28C37.7909 28 36 26.2091 36 24Z">
                                        </path>
                                    </svg></div>
                            </div>
                            <div aria-label="Like video
{number} likes" aria-pressed="false" role="button" tabindex="0" class="tiktok-114tc9h-DivLikeWrapper ezxoskx0">
                                <div data-e2e="comment-like-icon" class="tiktok-1tvtgfz-DivLikeIcon ezxoskx2"><svg width="20" data-e2e="" height="20" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M24 9.01703C19.0025 3.74266 11.4674 3.736 6.67302 8.56049C1.77566 13.4886 1.77566 21.4735 6.67302 26.4016L22.5814 42.4098C22.9568 42.7876 23.4674 43 24 43C24.5326 43 25.0432 42.7876 25.4186 42.4098L41.327 26.4016C46.2243 21.4735 46.2243 13.4886 41.327 8.56049C36.5326 3.736 28.9975 3.74266 24 9.01703ZM21.4938 12.2118C17.9849 8.07195 12.7825 8.08727 9.51028 11.3801C6.16324 14.7481 6.16324 20.214 9.51028 23.582L24 38.1627L38.4897 23.582C41.8368 20.214 41.8368 14.7481 38.4897 11.3801C35.2175 8.08727 30.0151 8.07195 26.5062 12.2118L26.455 12.2722L25.4186 13.3151C25.0432 13.6929 24.5326 13.9053 24 13.9053C23.4674 13.9053 22.9568 13.6929 22.5814 13.3151L21.545 12.2722L21.4938 12.2118Z">
                                        </path>
                                    </svg></div><span data-e2e="comment-like-count" class="tiktok-gb2mrc-SpanCount ezxoskx3" style="margin-left: 0px; margin-right: 0px;">20</span>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                                `
                        divCommentList.appendChild(commentDiv)
                        inputElement.textContent = ''

                        let newVideo = await updateVideo(video)
                        video = await newVideo
                        await updateVideoDetailsNotSouce(video, commentsCountElement, likeCountElement, commentCountElement, undefinedCountElement, usernameElement, nameElement, daysDifferenceElement, updateTimeDifference, captionElement, avatarImage, videoThumbnail);
                        await updateVideoDataAtIndex(indexCurrent, video);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            }

        })

        videoPlay.addEventListener('timeupdate', function () {
            if (videoPlay.currentTime >= 4 && !videoPlay.hasAttribute('data-viewed')) {
                fetch(`/video/view/${video.id}`, {
                    method: 'POST',
                })
                    .then(data => {
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
                videoPlay.setAttribute('data-viewed', 'true');
            }
            if (videoPlay.currentTime === 0 && videoPlay.hasAttribute('data-viewed')) {
                videoPlay.removeAttribute('data-viewed');
            }
        });

        buttonCopyLink.addEventListener('click', () => {
            let textToCopy = copyLinkText.innerHTML
            let textArea = document.createElement("textarea");
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'successful' : 'unsuccessful';
                showCustomAlert("Link copied successfully");
                fetch(`/video/share/${video.id}`, {
                    method: 'POST',
                })
                    .then(data => {
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            } catch (err) {
                console.error('Unable to copy text');
            }
            document.body.removeChild(textArea);
        })

        videoPlay.play().catch(error => {
            console.log("error:", error)
        })

        document.addEventListener('visibilitychange', handleVisibilityChange);

        volumeButton.addEventListener('click', () => {
            isMuted = !isMuted;
            if (isMuted) {
                updateVolumeIcon(isMuted)
            } else {
                updateVolumeIcon(isMuted)
            }
            if (videoPlay) {
                if (videoPlay.muted) {
                    videoPlay.play();
                    videoPlay.muted = false;
                } else {
                    videoPlay.play();
                    videoPlay.muted = true;
                }
            }
        });

        xgwrapper.addEventListener('click', function () {
            if (videoPlay.paused) {
                playIcon.style.display = 'none';
                videoPlay.play();
                videoPlay.removeAttribute('loop');
            } else {
                playIcon.style.display = 'block';
                videoPlay.pause();
                videoPlay.setAttribute('loop', '');
            }
        });

        xButton.addEventListener('click', function () {
            divVideo.remove();
            navMenu.style.display = 'flex'
            listVideoDiv.style.display = 'flex'
            isMouseOver = false
            bigDiv.style.display = 'flex'
            navMenuMiddle.style.display = 'flex'
            updateURL(`/customer/profile/${customer.id}`, "pageProfile", 'push')
            document.removeEventListener('visibilitychange', handleVisibilityChange);
            updateCustomer()
        })

        inputElement.addEventListener('input', function () {
            if (inputElement.textContent.trim() !== '') {
                placeholderDiv.style.display = 'none';
                postComment.style.color = 'rgba(234, 40, 78, 1)'
            } else {
                placeholderDiv.style.display = 'block';
                postComment.style.color = 'rgba(22, 24, 35, 0.34)'
            }
        });

        leftArrow.addEventListener('click', () => {
            indexCurrent--
            video = videos[indexCurrent]
            sessionStorage.setItem('indexCurrentVideoProfile', indexCurrent);
            playIcon.style.display = 'none';
            copyLinkText.innerHTML = `${host}/video/${video.id}`
            removeCommentContainers();
            updateVideoDetails(video, commentsCountElement, likeCountElement, commentCountElement, undefinedCountElement, usernameElement, nameElement, daysDifferenceElement, updateTimeDifference, captionElement, avatarImage, videoThumbnail, videoPlay, svgIcon);
            handleLikeDetail(video.id, svgIcon);
            updateLeftArrowDisplay(indexCurrent, leftArrow);
            appendCommentsToContainer(video.comments, divCommentList);
            updateURL(`/video/${video.id}`, null, 'replace');
            updateCustomer()
            setSpanOtherInfosContent(spanOtherInfos, video, customer, updateTimeDifference);
        });

        rightArrow.addEventListener('click', () => {
            if (indexCurrent === videos.length - 1) {
                showCustomAlert("RUN OUT OF VIDEOs")
            } else {
                indexCurrent++
                video = videos[indexCurrent]
                sessionStorage.setItem('indexCurrentVideoProfile', indexCurrent);
                playIcon.style.display = 'none';
                copyLinkText.innerHTML = `${host}/video/${video.id}`
                removeCommentContainers();
                updateLeftArrowDisplay(indexCurrent, leftArrow);
                updateVideoDetails(video, commentsCountElement, likeCountElement, commentCountElement, undefinedCountElement, usernameElement, nameElement, daysDifferenceElement, updateTimeDifference, captionElement, avatarImage, videoThumbnail, videoPlay, svgIcon);
                handleLikeDetail(video.id, svgIcon);
                appendCommentsToContainer(video.comments, divCommentList);
                updateURL(`/video/${video.id}`, null, 'replace');
                updateCustomer()
                setSpanOtherInfosContent(spanOtherInfos, video, customer, updateTimeDifference);
            }

        });

        buttonActionVideo.forEach(button => {
            button.addEventListener('click', function (event) {
                event.preventDefault()
                const buttonText = this.innerText;
                if (buttonText === "Delete") {
                    showLoader()
                    fetch(`/video/delete/${video.id}`, {
                        method: 'DELETE',
                    }).then((data) => {
                        hideLoader()
                        window.location.href = `/customer/profile/${customer.id}`
                    })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                } else {
                    editVideoForm.style.display = 'block'
                    const editWho = document.querySelector('.css-17hfips-DivContainer')
                    const selectedElement = document.querySelector('.css-1bi8eji-PSelected');
                    selectedElement.textContent = video.who

                    function handleClick() {
                        const edit = document.querySelector('.css-cyte9w-UlOptionsContainer')
                        if (edit.style.display == 'none') {
                            edit.style.display = 'block'
                        } else {
                            edit.style.display = 'none'
                        }
                        const optionsItems = document.querySelectorAll('.css-162z403-LiOptionsItem');
                        optionsItems.forEach(item => {
                            item.addEventListener('click', function () {
                                const selectedTitle = this.getAttribute('title');
                                selectedElement.textContent = selectedTitle;
                            });
                        })
                    }

                    editWho.addEventListener('click', handleClick);



                    const divSwitchContainers = document.querySelectorAll('.css-3uij16-DivSwitchItemContainer');
                    const switchWrapper = document.querySelector('.css-12xzmck-DivSwitchWrapper');
                    const switchIcon = document.querySelector('.css-9lvgjp-SpanSwitchIcon');
                    const doneButton = document.querySelector('.css-6fnltj-ButtonSave')
                    let isSwitchOn = video.allowComment;
                    if (!isSwitchOn) {
                        switchWrapper.style.background = 'gray';
                        switchIcon.style.left = '23px';
                        isSwitchOn = false
                    }
                    divSwitchContainers.forEach(divSwitchContainer => {
                        const buttonSwitch = divSwitchContainer.querySelector('.css-ge3lma-ButtonSwitchContainer');
                        buttonSwitch.addEventListener('click', function () {
                            const buttonText = divSwitchContainer.innerText.trim();
                            if (buttonText === "Allow comments") {
                                isSwitchOn = !isSwitchOn;
                                if (isSwitchOn) {
                                    switchWrapper.style.background = 'rgb(11, 224, 155)';
                                    switchIcon.style.left = 'calc(100% - 2px)';
                                    isSwitchOn = true
                                } else {
                                    switchWrapper.style.background = 'gray';
                                    switchIcon.style.left = '23px';
                                    isSwitchOn = false
                                }
                            }
                        })
                    })

                    doneButton.addEventListener('click', function handleButtonClick(event) {
                        editWho.removeEventListener('click', handleClick);
                        showLoader();
                        const data = {
                            video: video.id,
                            allowComment: isSwitchOn,
                            who: selectedElement.textContent
                        };
                        fetch('/video/update', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(data)
                        })
                            .then(async (response) => {
                                let newVideo = await updateVideo(video);
                                video = await newVideo;
                                setSpanOtherInfosContent(spanOtherInfos, newVideo, customer, updateTimeDifference);
                                await updateVideoDataAtIndex(indexCurrent, video);
                                hideLoader();
                                editVideoForm.style.display = 'none';
                                doneButton.removeEventListener('click', handleButtonClick);

                            })
                            .catch(error => {
                                console.error('Error:', error);
                            });
                    });
                }
            });
        });

        document.addEventListener('keydown', function (event) {
            switch (event.key) {
                case "ArrowUp":
                    if (!isMouseOver) {
                        return;
                    }
                    if (indexCurrent > '0') {
                        leftArrow.click()
                    }
                    break;
                case "ArrowDown":
                    if (!isMouseOver) {
                        return;
                    }
                    rightArrow.click()
                    break;
                case "ArrowLeft":
                    if (!isMouseOver) {
                        return;
                    }
                    video.currentTime -= 3;
                    break;
                case "ArrowRight":
                    if (!isMouseOver) {
                        return;
                    }
                    videoPlay.currentTime += 3;
                    break;
                case " ":
                    if (!isMouseOver) {
                        return;
                    }
                    xgwrapper.click()
                    break;
            }
        });

        divRigtVideo.addEventListener('mouseenter', function () {
            isMouseOver = true;
        });

        divRigtVideo.addEventListener('mouseleave', function () {
            isMouseOver = false;
        });

        window.addEventListener("wheel", function (event) {
            if (!isMouseOver) {
                return;
            }
            window.clearTimeout(isScrolling);
            isScrolling = setTimeout(function () {
                if (event.deltaY > 0) {
                    rightArrow.click()
                } else {
                    if (indexCurrent > '0') {
                        leftArrow.click()
                    }
                }
            }, 80);

        }, false);
    }



    sessionStorage.setItem('videosData', JSON.stringify(videos));
    followedSet = new Set(customer.following.map(following => following.id))
    likedVideoSet = new Set(likedVideoIds.map(video => video.id))

    displayVideos()

    listLike.addEventListener('click', () => {
        bottomLine.style.transform = "translateX(122px)";
        bottomLine.style.width = "165px";
        let parentElement = document.querySelector('.tiktok-yvmafn-DivVideoFeedV2');
        while (parentElement.firstChild) {
            parentElement.removeChild(parentElement.firstChild);
        }
        fetch(`/customer/videos/like`, {
            method: 'GET',
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Network response was not ok (${response.status})`);
                }
                return response.json();
            })
            .then(data => {
                displayVideos(data.likedVideos)
            })
            .catch(error => { console.error("Error:", error) })


    })


    listPost.addEventListener('click', () => {
        bottomLine.style.transform = "translateX(0px)";
        bottomLine.style.width = "122px";
        let parentElement = document.querySelector('.tiktok-yvmafn-DivVideoFeedV2');
        while (parentElement.firstChild) {
            parentElement.removeChild(parentElement.firstChild);
        }
        displayVideos(customer.videos)
    })

</script>